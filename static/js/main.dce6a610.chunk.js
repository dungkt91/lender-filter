(this["webpackJsonplender-filter"]=this["webpackJsonplender-filter"]||[]).push([[0],{109:function(e,t,a){},134:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l),s=(a(94),a(14)),c=a(15),o=a(21),u=a(16),m=a(17),d=(a(95),a(96),a(46)),h=a(198),p=a(203),E=a(199),v=a(181),f=a(201),g="http://127.0.0.1:8000";var b=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).selectLenderEvent=e.selectLenderEvent.bind(Object(o.a)(e)),e.selectTierEvent=e.selectTierEvent.bind(Object(o.a)(e)),e.state=e.filterBeginningState(),e}return Object(c.a)(a,[{key:"textfieldsBeginningState",value:function(){return{selectedTierIndex:0,currencyFields:{Payment:{value:"",error:!1},"Down Payment":{value:"",error:!1},"Trade Allowance":{value:"",error:!1},"Trade Payoff":{value:"",error:!1},"Trace a.c.v":{value:"",error:!1}},percentageFields:{Tax:{value:null,error:!1}}}}},{key:"filterBeginningState",value:function(){var e=Object(d.a)({selectedLenderIndex:0,selectedLenderImage:null,allLenderNames:[],tierMenuItems:[]},this.textfieldsBeginningState(),{isTierSelectEnabled:!1,isTextFieldsEnabled:!1,lenderMenuItems:[],selectedTierIndex:0,allTierNames:[]});return e.tierMenuItems.push(n.createElement(p.a,{key:"tier_please_select_item",value:0},"Please select tier")),e}},{key:"componentWillReceiveProps",value:function(e){for(var t=[],a=[],r=0;r<e.lenders.length;r++){var l=e.lenders[r];t.push(n.createElement(p.a,{key:"lender_name_"+r,value:r+1},l.name)),a.push(l.name)}this.setState({lenderMenuItems:t,allLenderNames:a})}},{key:"textboxOnChange",value:function(e,t){var a=e.target.value,n=isNaN(a);if(console.log(n),t in this.state.currencyFields){var r=Object(d.a)({},this.state.currencyFields);r[t]={value:a,error:n},this.setState({currencyFields:r})}else if(t in this.state.percentageFields){var l=Object(d.a)({},this.state.percentageFields);l[t]={value:a,error:n},this.setState({percentageFields:l})}}},{key:"selectLenderEvent",value:function(e){var t=e.target.value,a=t-1,r={};if(r.selectedLenderIndex=t,!(0==t)){var l=this.props.lenders[a].id,i=this.props.lenderPrograms.filter((function(e){return e.lender_id==l})).map((function(e){return e.name})),s=[];s.push(n.createElement(p.a,{value:0},"Please select tier"));for(var c=0;c<i.length;c++){var o=c+1;s.push(n.createElement(p.a,{value:o},i[c]))}r.tierMenuItems=s,r.isTierSelectEnabled=!0,r.allTierNames=i}r.selectedTierIndex=0,this.setState(r)}},{key:"selectTierEvent",value:function(e){var t=Object(d.a)({},this.textfieldsBeginningState());t.selectedTierIndex=e.target.value;var a=0==e.target.value;t.isTextFieldsEnabled=!a,this.setState(t)}},{key:"reset",value:function(){this.setState(this.filterBeginningState())}},{key:"render",value:function(){var e=this;return n.createElement(v.a,{container:!0,spacing:5},n.createElement(v.a,{item:!0,xs:12},n.createElement(h.a,{onChange:this.selectLenderEvent,value:this.state.selectedLenderValue,style:{width:"100%"}},this.state.lenderMenuItems)),n.createElement(v.a,{item:!0,xs:12},n.createElement(h.a,{style:{width:"100%"},disabled:!this.state.isTierSelectEnabled,value:this.state.selectedTierIndex,onChange:this.selectTierEvent},this.state.tierMenuItems)),Object.keys(this.state.currencyFields).map((function(t){return n.createElement(v.a,{item:!0,xs:6,sm:3,md:6},n.createElement(E.a,{disabled:!e.state.isTextFieldsEnabled,label:t,variant:"outlined",onChange:function(a){return e.textboxOnChange(a,t)},error:e.state.currencyFields[t].error,helperText:e.state.currencyFields[t].error?"Invalid Value":"",value:e.state.currencyFields[t].value,InputProps:{startAdornment:n.createElement(f.a,{position:"start"},"$")},size:"small"}))})),Object.keys(this.state.percentageFields).map((function(t){return n.createElement(v.a,{item:!0,xs:6,sm:3,md:6},n.createElement(E.a,{disabled:!e.state.isTextFieldsEnabled,label:t,variant:"outlined",onChange:function(a){return e.textboxOnChange(a,t)},error:e.state.percentageFields[t].error,helperText:e.state.percentageFields[t].error?"Invalid Value":"",value:e.state.percentageFields[t].value,InputProps:{startAdornment:n.createElement(f.a,{position:"start"},"%")},size:"small"}))})))}}]),a}(n.Component),y=a(59),O=a.n(y),x=a(60),k=a(70),F=a(184),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).clearFiltersOnClick=e.clearFiltersOnClick.bind(Object(o.a)(e)),e.lenderFilter1=n.createRef(),e.lenderFilter2=n.createRef(),e.lenderFilter3=n.createRef(),e.state={lenders:[],lenderPrograms:[],lenderTerms:[]},Promise.all([fetch("".concat(g,"/lenders/")),fetch("".concat(g,"/lenders/programs/")),fetch("".concat(g,"/lenders/terms/"))]).then(function(){var e=Object(k.a)(O.a.mark((function e(t){var a,n,r,l,i,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(x.a)(t,3),n=a[0],r=a[1],l=a[2],e.next=3,n.json();case 3:return i=e.sent,e.next=6,r.json();case 6:return s=e.sent,e.next=9,l.json();case 9:return c=e.sent,e.abrupt("return",[i,s,c]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){var a=Object(x.a)(t,3),n=a[0],r=a[1],l=a[2];e.setState({lenders:n,lenderPrograms:r,lenderTerms:l})})),e}return Object(c.a)(a,[{key:"clearFiltersOnClick",value:function(e){this.lenderFilter1.current.reset(),this.lenderFilter2.current.reset(),this.lenderFilter3.current.reset()}},{key:"getFiltersInputs",value:function(){return[this.lenderFilter1.current.state,this.lenderFilter2.current.state,this.lenderFilter3.current.state]}},{key:"getLenderData",value:function(){return[this.state.lenders,this.state.lenderPrograms,this.state.lenderTerms]}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(v.a,{container:!0,direction:"row",spacing:4},n.createElement(v.a,{item:!0,xs:12,style:{textAlign:"center"}},n.createElement(F.a,{variant:"contained",color:"secondary",onClick:this.clearFiltersOnClick},"Clear Filters")),n.createElement(v.a,{item:!0,xs:12},"Customer Name:"),n.createElement(v.a,{item:!0,xl:4},n.createElement(b,{ref:this.lenderFilter1,lenders:this.state.lenders,lenderPrograms:this.state.lenderPrograms,lenderTerms:this.state.lenderTerms})),n.createElement(v.a,{item:!0,xl:4},n.createElement(b,{ref:this.lenderFilter2,lenders:this.state.lenders,lenderPrograms:this.state.lenderPrograms,lenderTerms:this.state.lenderTerms})),n.createElement(v.a,{item:!0,xl:4},n.createElement(b,{ref:this.lenderFilter3,lenders:this.state.lenders,lenderPrograms:this.state.lenderPrograms,lenderTerms:this.state.lenderTerms})),n.createElement(v.a,{item:!0,xs:12,style:{textAlign:"center"}},n.createElement(F.a,{variant:"contained",color:"primary",onClick:this.props.submitOnClick},"Submit"))))}}]),a}(n.Component),C=a(71),T=a(190),I=a(191),S=a(185),w=a(187),D=a(186),L=a(78),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement(L.a,{style:{padding:"20px",backgroundColor:"rgb(247, 248, 248)"}},n.createElement(S.a,null,this.props.details.map((function(e){return"TITLE"==e.name?n.createElement(D.a,null,n.createElement(w.a,{colSpan:2,style:{textAlign:"center"}},n.createElement("b",{style:{fontSize:"1.2rem"}},e.value))):n.createElement(D.a,null,n.createElement(w.a,{style:{padding:"0px"}},n.createElement("b",null,e.name)),n.createElement(w.a,{style:{padding:"0px"}},e.value))}))))}}]),a}(n.Component),B=a(72),N=a(189),M=a(27),A=a(188),_=a(4),R=Object(_.a)((function(e){return{head:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},body:{fontSize:14}}}))(w.a),V=Object(_.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(D.a),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).calculationDetailsColumnHeaders=["Lender","Tier","Advance","Interest","Term","Payment","Back","Front","Profit"],e.state={calculationDetailsValues:[]},e}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){for(var t=[],a=0;a<e.filtersInputs.length;a++){var n=e.filtersInputs[a];this.isValidFilterInputs(n)&&t.push(this.createCalculationDetail(n,e.lenderData))}this.setState({calculationDetailsValues:t})}},{key:"isValidFilterInputs",value:function(e){return 0!=e.selectedLenderIndex&&0!=e.selectedTierIndex}},{key:"createCalculationDetail",value:function(e,t){var a=t[0],n=t[1],r=(t[2],e.allLenderNames[e.selectedLenderIndex-1]),l=e.allTierNames[e.selectedTierIndex-1],i="NOT_FOUND",s="NOT_FOUND",c=this.getLenderId(r,a);if(null!=c)for(var o=0;o<n.length;o++){var u=n[o];if(u.lender_id==c&&u.name==l){isNaN(u.advance)||(i=100*parseFloat(u.advance)+"%");var m=parseFloat(u.rate_min),d=parseFloat(u.rate_max);s="";for(var h=m;h<d;h+=1)s+=h+",";s+=d;break}}return[r,l,i,s]}},{key:"getLenderId",value:function(e,t){for(var a=0;a<t.length;a++)if(e==t[a].name)return t[a].id;return null}},{key:"renderWithOneTable",value:function(){return n.createElement(n.Fragment,null,n.createElement(L.a,{style:{backgroundColor:"rgb(247, 248, 248)"}},n.createElement(S.a,null,n.createElement(N.a,null,n.createElement(V,null,this.calculationDetailsColumnHeaders.map((function(e){return n.createElement(R,null,e)})))),this.state.calculationDetailsValues.map((function(e){return n.createElement(V,null,e.map((function(e,t){if(3==t){var a=[];return e.split(",").forEach((function(e,t){a.push(n.createElement(p.a,{value:e},e," %"))})),n.createElement(R,null,n.createElement(h.a,null,a))}return n.createElement(R,null,e)})))})))))}},{key:"renderWithThreeTables",value:function(){var e,t=this,a=[],r=Object(B.a)(this.state.calculationDetailsValues);try{for(r.s();!(e=r.n()).done;){var l=e.value;a.push(n.createElement(v.a,{item:!0,xs:12},n.createElement(L.a,{style:{backgroundColor:"rgb(247, 248, 248)"}},n.createElement(S.a,null,n.createElement(N.a,null,n.createElement(V,null,n.createElement(R,null,"Name"),n.createElement(R,null,"Value"))),l.map((function(e,a){return n.createElement(V,null,n.createElement(R,null,t.calculationDetailsColumnHeaders[a]),n.createElement(R,null,e))}))))))}}catch(i){r.e(i)}finally{r.f()}return n.createElement(n.Fragment,null,n.createElement(v.a,{container:!0,spacing:4},a))}},{key:"render",value:function(){return void 0!=this.props.filtersInputs&&this.props.filtersInputs.length>0?this.props.isBigScreen?this.renderWithOneTable():this.renderWithThreeTables():null}}]),a}(n.Component),z=function(e){var t=Object(M.a)(),a=Object(A.a)(t.breakpoints.up("md"));return n.createElement(W,Object.assign({isBigScreen:a},e))},H=a(73),U=a.n(H),Q=(a(108),a(109),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement(U.a,{items:this.props.images,showPlayButton:!1,showFullscreenButton:!1})}}]),a}(n.Component)),J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(v.a,{container:!0,spacing:1},n.createElement(v.a,{item:!0,xs:6,md:2,lg:2},n.createElement(F.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Save")),n.createElement(v.a,{item:!0,xs:6,md:2,lg:2},n.createElement(F.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Pictures")),n.createElement(v.a,{item:!0,xs:6,md:2,lg:2},n.createElement(F.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Breakdown")),n.createElement(v.a,{item:!0,xs:6,md:2,lg:2},n.createElement(F.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Send"))))}}]),a}(n.Component),$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement(T.a,{style:{width:"100%"}},n.createElement(I.a,null,n.createElement(v.a,{container:!0,spacing:2},n.createElement(v.a,{item:!0,xs:12,lg:7},n.createElement(Q,{images:this.props.images})),n.createElement(v.a,{item:!0,xs:12,lg:5},n.createElement(P,{details:this.props.details})),n.createElement(v.a,{item:!0,xs:12},n.createElement(z,{filtersInputs:this.props.filtersInputs,lenderData:this.props.lenderData})),n.createElement(v.a,{item:!0,xs:12},n.createElement(J,null)))))}}]),a}(n.Component),K=a(8),q=a(75);a(134);function G(){var e=Object(C.a)(["\n    border-color:rgb(55,71,172);\n    position:absolute;\n    border-bottom-color:transparent;\n    top:50%;\n"]);return G=function(){return e},e}var X=Object(K.css)(G()),Y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={carShowElements:[],isLoading:!1},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.updateCars(this.props.filtersInputs,null)}},{key:"updateCars",value:function(e,t){var a=this;this.setState({isLoading:!0}),fetch("".concat(g,"/cars/")).then((function(e){return e.json()})).then((function(r){for(var l=[],i=0;i<r.length;i++){var s=a.convertToCarDetails(r[i]),c=a.getCarImages(r[i]);l.push(n.createElement(v.a,{item:!0,xs:12,xl:6},n.createElement($,{details:s,images:c,filtersInputs:e,lenderData:t})))}a.setState({carShowElements:l,isLoading:!1})}))}},{key:"componentWillReceiveProps",value:function(e){this.updateCars(e.filtersInputs,e.lenderData)}},{key:"getCarImages",value:function(e){for(var t=[],a=0;a<e.images.length;a++){var n=e.images[a].src;console.log(n),t.push({original:n,thumbnail:n})}return t}},{key:"excludeCarDetailFields",value:function(e){return["id","images","img_url","total_cost","x_clean","clean","average","rough"].includes(e)}},{key:"convertToCarDetails",value:function(e){var t=[];for(var a in e)this.excludeCarDetailFields(a)||t.push({name:a.toUpperCase(),value:e[a]});return t}},{key:"render",value:function(){return n.createElement(v.a,{container:!0,spacing:4,className:"car-show-grid ".concat(this.state.isLoading?"loading":"")},this.state.isLoading?n.createElement("div",{className:"spinner"},n.createElement(q.ClipLoader,{css:X})):this.state.carShowElements)}}]),a}(n.Component),Z=a(192),ee=a(197),te=a(193),ae=a(196),ne=a(200),re=a(76),le=a.n(re),ie=a(194),se=a(195),ce=a(77),oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).carshowRef=r.a.createRef(),e.lendersFilter=r.a.createRef(),e.filterOnClick=e.filterOnClick.bind(Object(o.a)(e)),e.submitOnclick=e.submitOnclick.bind(Object(o.a)(e)),e.menuBtnOnClick=e.menuBtnOnClick.bind(Object(o.a)(e)),e.closeMenu=e.closeMenu.bind(Object(o.a)(e)),e.state={displayFilters:!1,displayCarShow:!0,anchorEl:null,filtersInputs:[]},e}return Object(c.a)(a,[{key:"filterOnClick",value:function(e){console.log("Filter"),this.setState({displayFilters:!this.state.displayFilters})}},{key:"submitOnclick",value:function(){this.setState({displayFilters:!1,displayCarShow:!0,filtersInputs:this.lendersFilter.current.getFiltersInputs(),lenderData:this.lendersFilter.current.getLenderData()}),window.scrollTo(0,0)}},{key:"menuBtnOnClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"closeMenu",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){return r.a.createElement(v.a,{container:!0,style:{backgroundColor:"rgb(247,248,248)"}},r.a.createElement(v.a,{item:!0,xl:1,xs:0}),r.a.createElement(v.a,{item:!0,xl:10,xs:12},r.a.createElement(Z.a,{position:"static"},this.props.isBigScreen?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,null,r.a.createElement(te.a,{label:"Home"}),r.a.createElement(te.a,{label:"Rate Sheet",disabled:!0}),r.a.createElement(te.a,{label:"Quick Quote",disabled:!0}),r.a.createElement(te.a,{label:"Lender Assist",disabled:!0}))):r.a.createElement(ie.a,null,r.a.createElement(se.a,{"aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",style:{color:"white"},onClick:this.menuBtnOnClick},r.a.createElement(le.a,null)),r.a.createElement(ce.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.anchorEl),onClose:this.closeMenu},r.a.createElement(p.a,null,"HOME"),r.a.createElement(p.a,null,"RATE SHEET"),r.a.createElement(p.a,null,"QUICK QUOTE"),r.a.createElement(p.a,null,"LENDER ASSIST"))))),r.a.createElement(v.a,{item:!0,xl:1,xs:0}),r.a.createElement(v.a,{item:!0,xl:1,xs:0}),r.a.createElement(v.a,{item:!0,xl:10,xs:12},r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,lg:12,xs:12},r.a.createElement(v.a,{container:!0,spacing:2},this.state.displayCarShow?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0,xs:12,sm:4,lg:2,style:{textAlign:"center"}},r.a.createElement(h.a,{value:0},r.a.createElement(p.a,{value:0},"Sort by (choose)"))),r.a.createElement(v.a,{item:!0,xs:12,sm:4,lg:2,style:{textAlign:"center"}},r.a.createElement(h.a,{value:0},r.a.createElement(p.a,{value:0},"Sort by (choose)"))),r.a.createElement(v.a,{item:!0,xs:12,sm:4,lg:2,style:{textAlign:"center"}},r.a.createElement(h.a,{value:0},r.a.createElement(p.a,{value:0},"Sort by (choose)"))),r.a.createElement(v.a,{item:!0,xs:12,sm:4,lg:2,style:{textAlign:"center"}},r.a.createElement(ae.a,{onClick:this.filterOnClick,selected:this.state.displayFilters},r.a.createElement(ne.a,null),"  Filter"))):null,r.a.createElement(v.a,{item:!0,xs:12,style:{marginTop:"16px",marginBottom:"16px",display:this.state.displayFilters?"":"none"}},r.a.createElement(L.a,{style:{padding:"10px"}},r.a.createElement(j,{ref:this.lendersFilter,submitOnClick:this.submitOnclick}))),this.state.displayCarShow?r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(Y,{ref:this.carshowRef,filtersInputs:this.state.filtersInputs,lenderData:this.state.lenderData})):null)))),r.a.createElement(v.a,{item:!0,xl:1,xs:0}))}}]),a}(r.a.Component),ue=function(e){var t=Object(M.a)(),a=Object(A.a)(t.breakpoints.up("md"));return r.a.createElement(oe,{isBigScreen:a})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a(137)},94:function(e,t,a){},95:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},96:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.dce6a610.chunk.js.map