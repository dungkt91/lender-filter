(this["webpackJsonplender-filter"]=this["webpackJsonplender-filter"]||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},152:function(e,t,a){e.exports=a(216)},157:function(e,t,a){},158:function(e,t,a){},160:function(e,t,a){},172:function(e,t,a){},198:function(e,t,a){},201:function(e,t,a){},209:function(e,t,a){},211:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),s=a.n(l),i=(a(157),a(9)),_=a(8),c=a(10),o=a(11),u=(a(158),a(28)),d=a(220),p=(a(159),a(7)),m=a(62),E=a.n(m),h=a(36),O=a(25),f=a(19),b=a(274),v=a(267),g=a(20),D=a(276),C=(a(160),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var r,l={},s=Object(f.a)(n.props.options);try{for(s.s();!(r=s.n()).done;){l[r.value]=!0}}catch(_){s.e(_)}finally{s.f()}return n.state=Object(g.a)({"Select All":!0},l),n.selectAll=n.selectAll.bind(Object(p.a)(n)),n.optionOnchange=n.optionOnchange.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"componentDidMount",value:function(){if(this.props.init){var e,t=Object(g.a)({},this.state),a=!0,n=Object(f.a)(this.props.options);try{for(n.s();!(e=n.n()).done;){var r=e.value,l=this.props.init.includes(r);t[r]=l,l||(a=!1)}}catch(s){n.e(s)}finally{n.f()}t["Select All"]=a,this.setState(t,this.props.onChange)}}},{key:"getTitle",value:function(){return this.props.title}},{key:"getValues",value:function(){var e,t=[],a=Object(f.a)(this.props.options);try{for(a.s();!(e=a.n()).done;){var n=e.value;this.state[n]&&t.push(n)}}catch(r){a.e(r)}finally{a.f()}return{selectedOptions:t}}},{key:"selectAll",value:function(e){var t,a=e.target,n=a.checked,r=Object(g.a)({},this.state),l=Object(f.a)(this.props.options);try{for(l.s();!(t=l.n()).done;){var s=t.value;a.checked?r[s]=!0:r[s]=!1}}catch(i){l.e(i)}finally{l.f()}r["Select All"]=n,this.setState(r,this.props.onChange)}},{key:"optionOnchange",value:function(e,t){var a=e.target,n=Object(g.a)({},this.state);n[t]=a.checked;var r,l=!0,s=Object(f.a)(this.props.options);try{for(s.s();!(r=s.n()).done;){n[r.value]||(l=!1)}}catch(i){s.e(i)}finally{s.f()}n["Select All"]=l,this.setState(n,this.props.onChange),console.log((a.checked?"Check ":"Unchecked ")+t)}},{key:"render",value:function(){var e=this,t=Object(O.a)(this.props.options);t.sort();var a=t.length>10;return r.a.createElement(h.a,{container:!0,className:"item_wrapper "+(a?"many_options":"")},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(D.a,{checked:this.state["Select All"],color:"primary",onChange:this.selectAll}),"All"),t.map((function(t){return r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(D.a,{checked:e.state[t],color:"primary",onChange:function(a){return e.optionOnchange(a,t)}}),e.props.titleTransformFunc?e.props.titleTransformFunc(t):t,e.props.displayCount?r.a.createElement("span",{className:"filter_item_count"},"  (",e.props.counts[t],")"):null)})))}}]),a}(r.a.Component)),y=a(137),M=a(118),P=a.n(M),T=a(278),I=a(134),k=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).onChangeDebounced=function(){n.props.onChange()};var r="",l="";return"discrete"==n.props.value_type?(r=Math.min.apply(Math,Object(O.a)(n.props.values)),l=Math.max.apply(Math,Object(O.a)(n.props.values))):"continuous"==n.props.value_type&&(r=n.props.values[0],l=n.props.values[1]),n.state={min:r,max:l,current_min:r,current_max:l},n.onChangeDebounced=P()(n.onChangeDebounced,1e3),n.sliderOnChange=n.sliderOnChange.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"componentDidMount",value:function(){this.props.init&&this.setState({current_min:this.props.init.min,current_max:this.props.init.max})}},{key:"textFieldOnChange",value:function(e,t){var a={};a[t]=e.target.value,this.setState(a),this.onChangeDebounced()}},{key:"getValues",value:function(){return{min:this.state.current_min,max:this.state.current_max}}},{key:"getMinTitle",value:function(){return void 0==this.props.minTitle?"Min":this.props.minTitle}},{key:"getMaxTitle",value:function(){return void 0==this.props.maxTitle?"Max":this.props.maxTitle}},{key:"getToText",value:function(){return void 0==this.props.toText?"To":this.props.toText}},{key:"sliderOnChange",value:function(e,t){this.setState({current_min:t[0],current_max:t[1]}),this.onChangeDebounced()}},{key:"render",value:function(){var e=this,t={};return this.props.startAdornment&&(t.startAdornment=r.a.createElement(I.a,{position:"start"},this.props.startAdornment)),this.props.endAdornment&&(t.endAdornment=r.a.createElement(I.a,{position:"end"},this.props.endAdornment)),r.a.createElement(h.a,{container:!0,style:{padding:20}},r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(y.a,{value:this.state.current_min,label:this.getMinTitle(),variant:"outlined",size:"small",onChange:function(t){return e.textFieldOnChange(t,"current_min")},InputProps:t})),r.a.createElement(h.a,{item:!0,xs:4,align:"center",style:{paddingTop:10}},this.getToText()),r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(y.a,{value:this.state.current_max,label:this.getMaxTitle(),variant:"outlined",size:"small",onChange:function(t){return e.textFieldOnChange(t,"current_max")},InputProps:t})),r.a.createElement(T.a,{min:this.state.min,max:this.state.max,value:[this.state.current_min,this.state.current_max],valueLabelDisplay:"auto",step:1,onChange:this.sliderOnChange}))}}]),a}(r.a.Component),L=a(266),x=a(120),j=a.n(x),A=a(119),B=a.n(A),R=(a(172),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).state={filters:n.props.filters,filtersInitializationHappened:{}};var r,l=Object(f.a)(n.props.filters);try{for(l.s();!(r=l.n()).done;){var s=r.value;n.state[s.title+"_expand"]=!("expand"in s)||s.expand}}catch(_){l.e(_)}finally{l.f()}return n.filterOnChange=n.filterOnChange.bind(Object(p.a)(n)),n.createFilter=n.createFilter.bind(Object(p.a)(n)),n.expandOrCollapse=n.expandOrCollapse.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e,t={},a=Object(f.a)(this.props.filters);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.init&&(t[n.title]=!0)}}catch(r){a.e(r)}finally{a.f()}this.setState({filtersInitializationHappened:t})}},{key:"expandBtnOnClick",value:function(e,t){var a=t+"_expand",n={};n[a]=!this.state[a],this.setState(n)}},{key:"filterOnChange",value:function(e,t){var a,n=Object(g.a)({},this.state),r=Object(f.a)(n.filters);try{for(r.s();!(a=r.n()).done;){var l=a.value;if("list"==l.type&&"dependent_filter"in l&&"dependent_list"in l){var s=l.dependent_filter,i=l.dependent_list;if(this.refsDict[s]){var _,c=this.refsDict[s].getValues().selectedOptions,o=new Set,u=Object(f.a)(c);try{for(u.s();!(_=u.n()).done;){i[_.value].forEach(o.add,o)}}catch(d){u.e(d)}finally{u.f()}l.options=Array.from(o)}}this.state.filtersInitializationHappened[l.title]&&delete l.init}}catch(d){r.e(d)}finally{r.f()}console.log(n),this.setState(n,this.props.onChange)}},{key:"getFilterValues",value:function(){var e=this,t={},a=function(a){var n=e.state.filters.filter((function(e){return e.title===a}))[0].type;t[a]=Object(g.a)({type:n},e.refsDict[a].getValues())};for(var n in this.refsDict)a(n);return t}},{key:"expandOrCollapse",value:function(e,t){var a=t+"_expand",n={};n[a]=!this.state[a],this.setState(n)}},{key:"createFilter",value:function(e,t){var a=this,n=(this.state.filters.length,e.type),l=void 0;return"list"==n?l=r.a.createElement(C,Object.assign({},e,{ref:function(t){return a.refsDict[e.title]=t},onChange:function(t){return a.filterOnChange(t,e.title)}})):"range"==n&&(l=r.a.createElement(k,Object.assign({},e,{ref:function(t){return a.refsDict[e.title]=t},onChange:function(t){return a.filterOnChange(t,e.title)}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{item:!0,xs:12,className:"filter"},r.a.createElement(h.a,{container:!0,className:"expandable",onClick:function(t){return a.expandOrCollapse(t,e.title)}},r.a.createElement(h.a,{item:!0,xs:10},r.a.createElement("span",{className:"filter_title"},e.title)),r.a.createElement(h.a,{item:!0,xs:2,align:"right"},this.state[e.title+"_expand"]?r.a.createElement(B.a,null):r.a.createElement(j.a,null))),r.a.createElement(L.a,{in:this.state[e.title+"_expand"]},l)))}},{key:"render",value:function(){return this.refsDict={},r.a.createElement(h.a,{container:!0,className:"filter_main_content"},this.state.filters.map(this.createFilter))}}]),a}(r.a.Component)),U=(a(112),a(58)),W=a(89),K=a(81),S=(a(113),a(26)),F=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var l=[];for(var s in l.push(r.a.createElement(U.a,{value:"NONE"},"Please select lender")),e.lenderToPrograms)l.push(r.a.createElement(U.a,{value:s},s));return n.state=Object(g.a)({lenderMenuItems:l},n.beginningState(),{lenderInputs:[]}),n.selectLender=n.selectLender.bind(Object(p.a)(n)),n.selectTier=n.selectTier.bind(Object(p.a)(n)),n.addLender=n.addLender.bind(Object(p.a)(n)),n.reset=n.reset.bind(Object(p.a)(n)),n.deleteLenderInput=n.deleteLenderInput.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"beginningState",value:function(){return{selectedTier:"NONE",tierMenuItems:[],tierSelectDisabled:!0,selectedLender:"NONE",lenderSelectDisabled:!1,currencyFields:{Payment:{value:"",error:!1},"Down Payment":{value:"",error:!1},"Trade Allowance":{value:"",error:!1},"Trade Payoff":{value:"",error:!1},"Trace a.c.v":{value:"",error:!1}},percentageFields:{Tax:{value:"",error:!1}},isTextFieldsEnabled:!1}}}]),Object(_.a)(a,[{key:"componentDidMount",value:function(){this.props.init&&this.setState({lenderInputs:this.props.init})}},{key:"textboxOnChange",value:function(e,t){var a=e.target.value,n=isNaN(a);if(console.log(n),t in this.state.currencyFields){var r=Object(g.a)({},this.state.currencyFields);r[t]={value:a,error:n},this.setState({currencyFields:r})}else if(t in this.state.percentageFields){var l=Object(g.a)({},this.state.percentageFields);l[t]={value:a,error:n},this.setState({percentageFields:l})}}},{key:"selectLender",value:function(e){var t=e.target.value,a=!0;"NONE"!=t&&(a=!1);var n=[];n.push(r.a.createElement(U.a,{value:"NONE"},"Please select tier"));var l,s=Object(f.a)(this.props.lenderToPrograms[t]);try{for(s.s();!(l=s.n()).done;){var i=l.value;n.push(r.a.createElement(U.a,{value:i},i))}}catch(_){s.e(_)}finally{s.f()}this.setState({selectedLender:t,selectedTier:"NONE",tierSelectDisabled:a,tierMenuItems:n})}},{key:"selectTier",value:function(e){var t=e.target.value;this.setState({selectedTier:t,isTextFieldsEnabled:!0})}},{key:"hasAnyErrorsInLenderInput",value:function(){var e=this,t=!1;return Object.keys(this.state.currencyFields).forEach((function(a){e.state.currencyFields[a].error&&(t=!0)})),Object.keys(this.state.percentageFields).forEach((function(a){e.state.percentageFields[a].error&&(t=!0)})),t}},{key:"addLender",value:function(e){var t={},a=this.hasAnyErrorsInLenderInput();if("NONE"!=this.state.selectedLender&&"NONE"!=this.state.selectedTier&&!a){t.lender=this.state.selectedLender,t.tier=this.state.selectedTier,t.payment=this.state.currencyFields.Payment.value,t["down payment"]=this.state.currencyFields["Down Payment"].value,t["trade allowance"]=this.state.currencyFields["Trade Allowance"].value,t["trade payoff"]=this.state.currencyFields["Trade Payoff"].value,t["trade a.c.v"]=this.state.currencyFields["Trace a.c.v"].value,t.tax=this.state.percentageFields.Tax.value;var n=this.state.lenderInputs;n.push(t),this.setState({lenderInputs:n},this.props.onChange)}}},{key:"reset",value:function(e){this.setState(Object(g.a)({},this.beginningState()))}},{key:"deleteLenderInput",value:function(e,t){var a=this.state.lenderInputs;a.splice(t,1),this.setState({lenderInputs:a},this.props.onChange)}},{key:"getLenderInputs",value:function(){return this.state.lenderInputs}},{key:"addLender",value:function(e){var t=Object(O.a)(this.state.lenderInputs);t.push(e),Object(S.f)(t),this.setState({lenderInputs:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{container:!0,className:"lender_main_content padding10",spacing:2},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(K.a,{lenderToPrograms:this.props.lenderToPrograms,onChange:this.addLender})),this.state.lenderInputs.map((function(t,a){return r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(W.a,{inputs:t,handleDeleteBtnClick:function(t){return e.deleteLenderInput(a)}}))})))}}]),a}(r.a.Component);var N={convertStr:function(e){return e.split(/(\s+)/).map((function(e){var t="";return e.length>0&&(t+=e.charAt(0).toUpperCase()),e.length>1&&(t+=e.substring(1).toLowerCase()),t})).join(" ")}},w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(p.a)(n)),n.filterRef=r.a.createRef(),n.lenderRef=r.a.createRef();var l=n.parseProps(n.props),s=l.filters,_=l.lenderToPrograms,c=l.carDetails;return console.log(n.props),console.log(s),n.state={selectedTabIndex:0,filters:s,lenderToPrograms:_,carDetails:c},n}return Object(_.a)(a,[{key:"handleChange",value:function(e,t){this.setState({selectedTabIndex:t})}},{key:"parseProps",value:function(e){for(var t=new Set,a={},n={},r={},l=new Set,s=new Set,i=0;i<e.carDetails.length;i++){var _=e.carDetails[i],c=_.make,o=_.model,u=_.year;t.add(c),l.add(o),isNaN(u)||s.add(u),c in a||(a[c]=new Set),a[c].add(o),c in n||(n[c]=0),n[c]=n[c]+1,o in r||(r[o]=0),r[o]=r[o]+1}var d,p=[],m=Object(f.a)(s);try{for(m.s();!(d=m.n()).done;){var E=d.value;p.push([E])}}catch(y){m.e(y)}finally{m.f()}var h=[{title:"Make",type:"list",options:Array.from(t),expand:this.props.filtersExpanded,displayCount:!0,counts:n,titleTransformFunc:N.convertStr},{title:"Model",type:"list",dependent_filter:"Make",dependent_list:a,options:Array.from(l),expand:this.props.filtersExpanded,displayCount:!0,counts:r,titleTransformFunc:N.convertStr},{title:"Year",type:"range",minTitle:"Min",maxTitle:"Max",value_type:"discrete",values:p,expand:this.props.filtersExpanded},{title:"Mileage",type:"range",minTitle:"Min",maxTitle:"Max",value_type:"continuous",values:this.createRangeListContinuousValue(e.carDetails.map((function(e){return parseInt(e.mileage)})),10),expand:this.props.filtersExpanded,endAdornment:"mi"},{title:"Total cost",type:"range",minTitle:"Min",maxTitle:"Max",value_type:"continuous",values:this.createRangeListContinuousValue(e.carDetails.map((function(e){return parseInt(e.total_cost)})),10),expand:this.props.filtersExpanded,startAdornment:"$"}];if(this.props.init)for(var O in this.props.init){var b,v=Object(f.a)(h);try{for(v.s();!(b=v.n()).done;){var g=b.value;if(g.title==O){"list"==g.type?g.init=this.props.init[O].selectedOptions:g.init=this.props.init[O];break}}}catch(y){v.e(y)}finally{v.f()}}var D={},C={};return e.lenders.forEach((function(e){C[e.id]=e.name})),e.lenderPrograms.forEach((function(e){var t=C[e.lender_id];t in D||(D[t]=[]),D[t].push(e.name)})),{filters:h,lenderToPrograms:D,carDetails:e.carDetails}}},{key:"createRangeListContinuousValue",value:function(e,t){var a=Math.min.apply(Math,Object(O.a)(e)),n=Math.max.apply(Math,Object(O.a)(e));return[a,n]}},{key:"getFilterValues",value:function(){return this.filterRef.current.getFilterValues()}},{key:"getLenderInputs",value:function(){return this.lenderRef.current.getLenderInputs()}},{key:"render",value:function(){return r.a.createElement("div",{className:"left_panel"},r.a.createElement(b.a,{value:this.state.selectedTabIndex,onChange:this.handleChange,TabIndicatorProps:{style:{background:"#4153AF"}}},r.a.createElement(v.a,{label:"Filter",className:"filter_tab "+(0==this.state.selectedTabIndex?"tab_selected":"tab_deselected")}),r.a.createElement(v.a,{label:"Lender",className:"lender_tab "+(1==this.state.selectedTabIndex?"tab_selected":"tab_deselected")})),r.a.createElement("div",{className:0==this.state.selectedTabIndex?"":"hide"},r.a.createElement(R,{ref:this.filterRef,filters:this.state.filters,onChange:this.props.filterOnChange})),r.a.createElement("div",{className:1==this.state.selectedTabIndex?"":"hide"},r.a.createElement(F,{init:Object(S.c)(),ref:this.lenderRef,lenderToPrograms:this.state.lenderToPrograms,onChange:this.props.lenderOnChange})))}}]),a}(r.a.Component),V=a(73),q=a(16),z=(a(198),"https://lender-filter-backend-test.herokuapp.com");a(199);var H=a(90),J=a(268),G=a(270),$=a(269),Q=a(91),Y=a.n(Q),X=(a(209),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(_.a)(a,[{key:"getCarTitle",value:function(){var e=this.props.details.year,t=this.props.details.make,a=this.props.details.model,n=this.props.details.trim;return"".concat(e," ").concat(t," ").concat(a," ").concat(n)}},{key:"convertImages",value:function(e){return e.map((function(e){return{original:e}}))}},{key:"render",value:function(){var e=this,t="",a=this.props.details.images;return a&&a.length>0&&(t=a[0].src),r.a.createElement(J.a,{className:"car "+this.props.size,onClick:function(t){e.props.onClick&&e.props.onClick(t,e.props.details)}},r.a.createElement($.a,null,r.a.createElement("img",{src:t,style:{width:"100%"}})),r.a.createElement(G.a,null,r.a.createElement(h.a,{container:!0},"sm"==this.props.size?r.a.createElement(h.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement("span",{className:"car_total_cost"},"$",this.props.details.total_cost)):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement("span",{className:"car_title"},this.getCarTitle())),r.a.createElement(h.a,{container:!0,className:"price_mileage_row"},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement("span",{className:"car_total_cost"},"$",this.props.details.total_cost)),r.a.createElement(h.a,{item:!0,xs:6,align:"right"},r.a.createElement("span",{className:"car_mileage"},this.props.details.mileage," mi.")))))))}}]),a}(r.a.Component)),Z=a(86),ee=a(126);function te(){var e=Object(ee.a)(["\n    border-color:rgb(55,71,172);\n    position:absolute;\n    border-bottom-color:transparent;\n    top:50%;\n"]);return te=function(){return e},e}var ae=Object(q.css)(te()),ne=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isVisible:!0},n.hideLoader=n.hideLoader.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({isVisible:!0},this.hideLoader)}},{key:"hideLoader",value:function(){var e=this;this.props.timeout&&setTimeout((function(){e.setState({isVisible:!1})}),this.props.timeout)}},{key:"componentDidMount",value:function(){this.hideLoader()}},{key:"render",value:function(){return this.state.isVisible?n.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.createElement(V.ClipLoader,{css:ae})):this.props.children}}]),a}(n.Component),re=a(17),le=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={sortOptionIndex:0},n.selectSortOption=n.selectSortOption.bind(Object(p.a)(n)),n.carOnClick=n.carOnClick.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"filterTitleToFieldName",value:function(e){return{Make:"make",Model:"model",Year:"year","Total cost":"total_cost",Mileage:"mileage"}[e]}},{key:"reverseNumberSign",value:function(e){return-e}},{key:"sortCarDetails",value:function(e,t){var a=this;switch(t){case 1:e.sort((function(e,t){return parseInt(e.total_cost)-parseInt(t.total_cost)}));break;case 2:e.sort((function(e,t){return a.reverseNumberSign(parseInt(e.total_cost)-parseInt(t.total_cost))}));break;case 3:e.sort((function(e,t){return parseInt(e.mileage)-parseInt(t.mileage)}));break;case 4:e.sort((function(e,t){return a.reverseNumberSign(parseInt(e.mileage)-parseInt(t.mileage))}));break;case 5:e.sort((function(e,t){return a.reverseNumberSign(parseInt(e.year)-parseInt(t.year))}));break;case 6:e.sort((function(e,t){return parseInt(e.year)-parseInt(t.year)}))}return e}},{key:"carDetails",value:function(){var e=this,t=Object.keys(this.props.filterValues).length>0,a=Object(O.a)(this.props.carDetails);if(t){var n=function(t){var n=e.props.filterValues[t],r=n.type,l=e.filterTitleToFieldName(t);if("list"==r){var s=n.selectedOptions,i=new Set(s);a=a.filter((function(e){return i.has(e[l])}))}else if("range"==r){var _=n.min,c=n.max;""===_&&""==c||(""==_&&(_=0),""==c&&(c=Number.MAX_SAFE_INTEGER),a=a.filter((function(e){return e[l]>=_&&e[l]<=c})))}};for(var r in this.props.filterValues)n(r);return-1!=this.state.sortOptionIndex&&(a=this.sortCarDetails(a,this.state.sortOptionIndex)),a}return-1!=this.state.sortOptionIndex&&(a=this.sortCarDetails(a,this.state.sortOptionIndex)),a}},{key:"selectSortOption",value:function(e){var t=e.target.value;this.setState({sortOptionIndex:t})}},{key:"carOnClick",value:function(e,t,a){this.props.history.push("/car",{carDetails:t,results:this.carDetails(),carIndex:a})}},{key:"render",value:function(){var e=this,t=this.carDetails();return n.createElement(n.Fragment,null,n.createElement(h.a,{container:!0,spacing:2,className:"carshow"},n.createElement(h.a,{item:!0,xs:6,style:{paddingTop:20}},n.createElement("span",{className:"matches"},t.length+" matches")),n.createElement(h.a,{item:!0,xs:6,align:"right"},n.createElement(Z.a,{className:"sort_by_select_option",value:this.state.sortOptionIndex,onChange:this.selectSortOption},n.createElement(U.a,{value:0},"Sort By"),n.createElement(U.a,{value:1},"Lowest Price"),n.createElement(U.a,{value:2},"Highest Price"),n.createElement(U.a,{value:3},"Lowest Mileage"),n.createElement(U.a,{value:4},"Highest Mileage"),n.createElement(U.a,{value:5},"Newest Year"),n.createElement(U.a,{value:6},"Oldest Year"))),t.map((function(t,a){return n.createElement(h.a,{item:!0,xs:12,md:4,lg:3},n.createElement(X,{details:t,onClick:function(t,n){return e.carOnClick(t,n,a)}}))}))))}}]),a}(n.Component),se=Object(re.f)(le),ie=a(271),_e=a(272),ce=a(133),oe=a(92),ue=a.n(oe),de=a(131),pe=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{position:"static"},this.props.isBigScreen?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(v.a,{label:"Home"}),r.a.createElement(v.a,{label:"Rate Sheet",disabled:!0}),r.a.createElement(v.a,{label:"Quick Quote",disabled:!0}),r.a.createElement(v.a,{label:"Lender Assist",disabled:!0}))):r.a.createElement(_e.a,null,r.a.createElement(ce.a,{"aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",style:{color:"white"},onClick:this.menuBtnOnClick},r.a.createElement(ue.a,null)),r.a.createElement(de.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.anchorEl),onClose:this.closeMenu},r.a.createElement(U.a,null,"HOME"),r.a.createElement(U.a,null,"RATE SHEET"),r.a.createElement(U.a,null,"QUICK QUOTE"),r.a.createElement(U.a,null,"LENDER ASSIST")))))}}]),a}(r.a.Component),me=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).leftPanelRef=r.a.createRef(),e.state={filterValues:{}},e.filterOnChange=e.filterOnChange.bind(Object(p.a)(e)),e.lenderOnChange=e.lenderOnChange.bind(Object(p.a)(e)),e}return Object(_.a)(a,[{key:"filterOnChange",value:function(){var e=this.leftPanelRef.current.getFilterValues();this.setState({filterValues:e},(function(){Object(S.d)(e)}))}},{key:"lenderOnChange",value:function(){var e=this.leftPanelRef.current.getLenderInputs();console.log(e),Object(S.f)(e)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{smooth:!0}),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xl:2,xs:0}),r.a.createElement(h.a,{item:!0,xl:8,xs:12},r.a.createElement(pe,{isBigScreen:this.props.isBigScreen})),r.a.createElement(h.a,{item:!0,xl:2,xs:0}),r.a.createElement(h.a,{item:!0,xl:2,xs:0}),this.props.isLoading?r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(ne,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{item:!0,xl:2,sm:3,xs:12},r.a.createElement(w,{init:Object(S.a)(),filtersExpanded:this.props.isBigScreen,ref:this.leftPanelRef,carDetails:this.props.carJson,lenders:this.props.lendersJson,lenderPrograms:this.props.lenderProgramsJson,filterOnChange:this.filterOnChange,lenderOnChange:this.lenderOnChange})),r.a.createElement(h.a,{item:!0,xl:6,sm:9,xs:12},r.a.createElement(se,{carDetails:this.props.carJson,filterValues:this.state.filterValues}))),r.a.createElement(h.a,{item:!0,xl:2,xs:0})))}}]),a}(r.a.Component),Ee=a(129),he=a(130),Oe=a(135),fe=a(273),be=a(218),ve=a(219),ge=(a(211),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"getCarTitle",value:function(){var e=this.getRowValue("YEAR"),t=this.getRowValue("MAKE"),a=this.getRowValue("MODEL"),n=this.getRowValue("TRIM");return"".concat(e," ").concat(t," ").concat(a," ").concat(n)}},{key:"getRowValue",value:function(e){var t=this.getRowWithName(e);return null!=t?t.value:""}},{key:"getRowWithName",value:function(e){var t=this.props.details.filter((function(t){return t.name==e}));return t.length>0?t[0]:null}},{key:"render",value:function(){return n.createElement(h.a,{container:!0},n.createElement(h.a,{item:!0,xs:12,className:"car_description_title"},n.createElement("span",null,this.getCarTitle()," - ",this.getRowValue("TOTAL COST"))),n.createElement(Oe.a,{className:"car_description_table"},n.createElement(fe.a,null,this.props.details.map((function(e){return n.createElement(ve.a,null,n.createElement(be.a,null,n.createElement("span",{className:"car_description_row_header"},N.convertStr(e.name))),n.createElement(be.a,null,n.createElement("span",{className:"car_description_row_value"},e.value)))})))))}}]),a}(n.Component)),De=(a(212),a(213),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){return n.createElement(Y.a,{items:this.props.images,showPlayButton:!1,showFullscreenButton:!1})}}]),a}(n.Component)),Ce=a(97),ye=(n.Component,function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"excludeCarDetailFields",value:function(e){return["id","images","img_url","x_clean","clean","average","rough","series"].includes(e)}},{key:"convertFieldNameToLabel",value:function(e){var t={total_cost:"TOTAL COST"};return e in t?t[e]:e}},{key:"isCurrencyField",value:function(e){return["total_cost"].includes(e)}},{key:"convertToCarDetails",value:function(e){var t=[];for(var a in e)if(!this.excludeCarDetailFields(a)){var n=this.convertFieldNameToLabel(a).toUpperCase(),r=e[a];this.isCurrencyField(a)&&(r="$"+r),t.push({name:n,value:r})}return t}},{key:"convertToImages",value:function(e){console.log(e);var t,a=[],n=Object(f.a)(e.images);try{for(n.s();!(t=n.n()).done;){var r=t.value;console.log(r),a.push({original:r.src,thumbnail:r.src})}}catch(l){n.e(l)}finally{n.f()}return console.log(a),a}},{key:"render",value:function(){return n.createElement(h.a,{container:!0,spacing:2},n.createElement(h.a,{item:!0,xs:12,lg:7},n.createElement(De,{images:this.convertToImages(this.props.details)})),n.createElement(h.a,{item:!0,xs:12,lg:5},n.createElement(ge,{details:this.convertToCarDetails(this.props.details)})),n.createElement(h.a,{item:!0,xs:12},n.createElement(H.a,{filtersInputs:this.props.filtersInputs,lenderData:this.props.lenderData,details:this.props.details})))}}]),a}(n.Component)),Me=a(127),Pe=a.n(Me),Te=a(128),Ie=a.n(Te),ke=(a(214),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).callOnChange=function(e){n.props.onChange&&n.props.onChange(n.props.detailsList[e])};var r=0==n.props.detailsList.length,l=0;return n.props.initSelectedCarIndex&&(l=n.props.initSelectedCarIndex),n.state={selectedCarIndex:l,previousBtnDisabled:!0,nextBtnDisabled:r},n.next=n.next.bind(Object(p.a)(n)),n.previous=n.previous.bind(Object(p.a)(n)),n.carOnClick=n.carOnClick.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"updateBtnDisabled",value:function(e){return{previousBtnDisabled:0==e,nextBtnDisabled:e==this.props.detailsList.length-1}}},{key:"previous",value:function(){if(this.state.selectedCarIndex>0){var e=this.state.selectedCarIndex-1;this.setState(Object(g.a)({selectedCarIndex:e},this.updateBtnDisabled(e)),this.callOnChange(e))}}},{key:"next",value:function(){if(this.state.selectedCarIndex<this.props.detailsList.length-1){var e=this.state.selectedCarIndex+1;this.setState(Object(g.a)({selectedCarIndex:e},this.updateBtnDisabled(e)),this.callOnChange(e))}}},{key:"carOnClick",value:function(e){this.setState({selectedCarIndex:e},this.callOnChange(e))}},{key:"render",value:function(){var e=this,t=-1,a=-1;return this.state.selectedCarIndex-4>=0&&this.state.selectedCarIndex+4<this.props.detailsList.length?(t=this.state.selectedCarIndex-4,a=this.state.selectedCarIndex+4):this.state.selectedCarIndex-4<0?(t=0,a=8):this.state.selectedCarIndex+4>=this.props.detailsList.length&&(a=this.props.detailsList.length,t=this.props.detailsList.length-9),r.a.createElement(h.a,{container:!0},this.props.detailsList.slice(t,a+1).map((function(a,n){return r.a.createElement(h.a,{item:!0,xs:1,style:{padding:10}},r.a.createElement("div",{className:t+n==e.state.selectedCarIndex?"selected_car":""},r.a.createElement(X,{size:"sm",details:a,onClick:function(a,r){return e.carOnClick(t+n)}})))})),r.a.createElement(h.a,{item:!0,xs:1}),r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}},r.a.createElement(ce.a,{disabled:this.state.previousBtnDisabled,variant:"contained",onClick:this.previous,size:"medium",className:"navigation_btn prev_btn "+(this.state.previousBtnDisabled?"disabled":"enabled")},r.a.createElement(Pe.a,null)," Prev"),r.a.createElement(ce.a,{disabled:this.state.nextBtnDisabled,variant:"contained",onClick:this.next,size:"medium",className:"navigation_btn next_btn "+(this.state.nextBtnDisabled?"disabled":"enabled")},"Next ",r.a.createElement(Ie.a,null)))))}}]),a}(r.a.Component)),Le=(a(215),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a);var r=(n=t.call(this,e)).props.location,l=null;return r.state&&r.state.carDetails&&(l=r.state.carDetails),n.state={carDetails:l},n.goBack=n.goBack.bind(Object(p.a)(n)),n.selectCarInCarList=n.selectCarInCarList.bind(Object(p.a)(n)),n}return Object(_.a)(a,[{key:"goBack",value:function(){this.props.history.push("/")}},{key:"selectCarInCarList",value:function(e){this.setState({carDetails:e})}},{key:"render",value:function(){var e=this.props,t=(e.history,e.location),a=[],n=0,l=!1;t&&t.state&&(a=t.state.results,l=t.state&&t.state.carDetails,n=t.state.carIndex);var s=Object(S.c)();return null==s&&(s=[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{smooth:!0}),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xl:2,xs:0}),r.a.createElement(h.a,{item:!0,xl:8,xs:12},r.a.createElement(pe,{isBigScreen:this.props.isBigScreen})),r.a.createElement(h.a,{item:!0,xl:2,xs:0}),r.a.createElement(h.a,{item:!0,xl:2,xs:0}),r.a.createElement(h.a,{item:!0,xl:8,xs:12},r.a.createElement(h.a,{container:!0,item:!0},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement("a",{href:"#",className:"search_results_back_link",onClick:this.goBack},r.a.createElement(he.a,null)," All Results")),r.a.createElement(h.a,{item:!0,xs:12,className:"car_list"},a.length>0?r.a.createElement(ke,{initSelectedCarIndex:n,detailsList:a,onChange:this.selectCarInCarList}):null),r.a.createElement(h.a,{item:!0,xs:12,className:"car_detail"},l?r.a.createElement(ye,{filtersInputs:s,lenderData:Object(S.b)(),details:this.state.carDetails}):"Not found"))),r.a.createElement(h.a,{item:!0,xl:2,xs:0})))}}]),a}(r.a.Component)),xe=Object(re.f)(Le),je=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={carJson:[],lendersJson:[],lenderTermsJson:[],lenderProgramsJson:[],isLoading:!0},Promise.all([fetch("".concat(z,"/cars/")),fetch("".concat(z,"/lenders/")),fetch("".concat(z,"/lenders/terms/")),fetch("".concat(z,"/lenders/programs/"))]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){var t=e[0];t=n.convertKmToMileage(t);var a=e[1],r=e[2],l=e[3];Object(S.e)([a,l,r]),n.setState({carJson:t,lendersJson:a,lenderTermsJson:r,lenderProgramsJson:l,isLoading:!1})})),n}return Object(_.a)(a,[{key:"convertKmToMileage",value:function(e){return e.map((function(e){var t=e.mileage.toLowerCase();return t.includes("km")&&(e.mileage=Math.floor(.621371*parseFloat(t.replace("km","")))),e}))}},{key:"render",value:function(){return r.a.createElement(Ee.a,{basename:"/lender-filter"},r.a.createElement(re.c,null,r.a.createElement(re.a,{path:"/car"},r.a.createElement(xe,{isBigScreen:this.props.isBigScreen})),r.a.createElement(re.a,{path:"/"},r.a.createElement(me,Object.assign({isBigScreen:this.props.isBigScreen},this.state)))))}}]),a}(r.a.Component),Ae=function(e){var t=Object(u.a)(),a=Object(d.a)(t.breakpoints.up("md"));return r.a.createElement(je,{isBigScreen:a})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return _})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return u}));var n=a(25),r=a(20),l={filterValues:null,lenderInputs:null,lenderData:null};function s(e){console.log("setFilterValues"),console.log(e),l.filterValues=Object(r.a)({},e)}function i(){return l.filterValues?Object(r.a)({},l.filterValues):null}function _(e){l.lenderInputs=Object(n.a)(e)}function c(){return l.lenderInputs?Object(n.a)(l.lenderInputs):null}function o(e){l.lenderData=Object(n.a)(e)}function u(){return l.lenderData?Object(n.a)(l.lenderData):null}},81:function(e,t,a){"use strict";var n=a(19),r=a(20),l=a(9),s=a(7),i=a(8),_=a(10),c=a(11),o=a(0),u=a.n(o),d=a(36),p=a(86),m=a(58),E=a(137),h=a(134),O=a(97),f=(a(89),a(113),function(e){Object(c.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=[];for(var _ in i.push(u.a.createElement(m.a,{value:"NONE"},"Please select lender")),e.lenderToPrograms)i.push(u.a.createElement(m.a,{value:_},_));return n.state=Object(r.a)({lenderMenuItems:i},n.beginningState()),n.selectLender=n.selectLender.bind(Object(s.a)(n)),n.selectTier=n.selectTier.bind(Object(s.a)(n)),n.addLender=n.addLender.bind(Object(s.a)(n)),n.reset=n.reset.bind(Object(s.a)(n)),n.deleteLenderInput=n.deleteLenderInput.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"beginningState",value:function(){return{selectedTier:"NONE",tierMenuItems:[],tierSelectDisabled:!0,selectedLender:"NONE",lenderSelectDisabled:!1,currencyFields:{Payment:{value:"",error:!1},"Down Payment":{value:"",error:!1},"Trade Allowance":{value:"",error:!1},"Trade Payoff":{value:"",error:!1},"Trace a.c.v":{value:"",error:!1}},percentageFields:{Tax:{value:"",error:!1}},isTextFieldsEnabled:!1}}}]),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.init&&this.setState({lenderInputs:this.props.init})}},{key:"textboxOnChange",value:function(e,t){var a=e.target.value,n=isNaN(a);if(console.log(n),t in this.state.currencyFields){var l=Object(r.a)({},this.state.currencyFields);l[t]={value:a,error:n},this.setState({currencyFields:l})}else if(t in this.state.percentageFields){var s=Object(r.a)({},this.state.percentageFields);s[t]={value:a,error:n},this.setState({percentageFields:s})}}},{key:"selectLender",value:function(e){var t=e.target.value,a=!0;"NONE"!=t&&(a=!1);var r=[];r.push(u.a.createElement(m.a,{value:"NONE"},"Please select tier"));var l,s=Object(n.a)(this.props.lenderToPrograms[t]);try{for(s.s();!(l=s.n()).done;){var i=l.value;r.push(u.a.createElement(m.a,{value:i},i))}}catch(_){s.e(_)}finally{s.f()}this.setState({selectedLender:t,selectedTier:"NONE",tierSelectDisabled:a,tierMenuItems:r})}},{key:"selectTier",value:function(e){var t=e.target.value;this.setState({selectedTier:t,isTextFieldsEnabled:!0})}},{key:"hasAnyErrorsInLenderInput",value:function(){var e=this,t=!1;return Object.keys(this.state.currencyFields).forEach((function(a){e.state.currencyFields[a].error&&(t=!0)})),Object.keys(this.state.percentageFields).forEach((function(a){e.state.percentageFields[a].error&&(t=!0)})),t}},{key:"addLender",value:function(e){var t=this.hasAnyErrorsInLenderInput();if("NONE"!=this.state.selectedLender&&"NONE"!=this.state.selectedTier&&!t){var a={};a.lender=this.state.selectedLender,a.tier=this.state.selectedTier,a.payment=this.state.currencyFields.Payment.value,a["down payment"]=this.state.currencyFields["Down Payment"].value,a["trade allowance"]=this.state.currencyFields["Trade Allowance"].value,a["trade payoff"]=this.state.currencyFields["Trade Payoff"].value,a["trade a.c.v"]=this.state.currencyFields["Trace a.c.v"].value,a.tax=this.state.percentageFields.Tax.value,this.props.onChange&&this.props.onChange(a)}}},{key:"reset",value:function(e){this.setState(Object(r.a)({},this.beginningState()))}},{key:"deleteLenderInput",value:function(e,t){var a=this.state.lenderInputs;a.splice(t,1),this.setState({lenderInputs:a},this.props.onChange)}},{key:"render",value:function(){var e=this;return u.a.createElement(d.a,{container:!0,className:"lender_main_content padding10",spacing:2},u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(p.a,{onChange:this.selectLender,value:this.state.selectedLender,disabled:this.state.lenderSelectDisabled,style:{width:"100%"}},this.state.lenderMenuItems)),u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(p.a,{onChange:this.selectTier,value:this.state.selectedTier,disabled:this.state.tierSelectDisabled,style:{width:"100%"}},this.state.tierMenuItems)),Object.keys(this.state.currencyFields).map((function(t){return u.a.createElement(d.a,{item:!0,xs:6,sm:3,md:6,style:{padding:10}},u.a.createElement(E.a,{disabled:!e.state.isTextFieldsEnabled,label:t,variant:"outlined",onChange:function(a){return e.textboxOnChange(a,t)},error:e.state.currencyFields[t].error,helperText:e.state.currencyFields[t].error?"Invalid Value":"",value:e.state.currencyFields[t].value,InputProps:{startAdornment:u.a.createElement(h.a,{position:"start"},"$")},size:"small"}))})),Object.keys(this.state.percentageFields).map((function(t){return u.a.createElement(d.a,{item:!0,xs:6,sm:3,md:6,style:{padding:10}},u.a.createElement(E.a,{disabled:!e.state.isTextFieldsEnabled,label:t,variant:"outlined",onChange:function(a){return e.textboxOnChange(a,t)},error:e.state.percentageFields[t].error,helperText:e.state.percentageFields[t].error?"Invalid Value":"",value:e.state.percentageFields[t].value,InputProps:{startAdornment:u.a.createElement(h.a,{position:"start"},"%")},size:"small"}))})),u.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center"}},u.a.createElement(O.a,{variant:"contained",color:"primary",onClick:this.addLender},"Add"),u.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:this.reset,style:{marginLeft:10}},"Reset")))}}]),a}(u.a.Component));t.a=f},89:function(e,t,a){"use strict";var n=a(9),r=a(8),l=a(10),s=a(11),i=a(0),_=a.n(i),c=a(36),o=a(133),u=a(121),d=a.n(u),p=a(67),m=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"keyToTitle",value:function(e){return e.replace("_"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}},{key:"render",value:function(){var e=this;return _.a.createElement(p.a,{style:{padding:10}},_.a.createElement(c.a,{container:!0},_.a.createElement(c.a,{item:!0,xs:12,align:"right"},_.a.createElement(o.a,{color:"secondary",onClick:this.props.handleDeleteBtnClick},_.a.createElement(d.a,null))),Object.keys(this.props.inputs).map((function(t){return _.a.createElement(_.a.Fragment,null,_.a.createElement(c.a,{item:!0,xs:6},e.keyToTitle(t)),_.a.createElement(c.a,{item:!0,xs:6},e.props.inputs[t]))}))))}}]),a}(_.a.Component);t.a=m},90:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(95),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(123),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(135),_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(219),_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(136),_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(218),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(67),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(28),_material_ui_core_useMediaQuery__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(220),_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(36),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(4),_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(86),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(58),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(97),_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(125),_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_22__),_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(224),_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(221),_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(222),_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(223),_GlobalVariables__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(26),_LenderInput__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(81),_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(133),_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(124),_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_30__),_CarCalculation_css__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(201),_CarCalculation_css__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(_CarCalculation_css__WEBPACK_IMPORTED_MODULE_31__),StyledTableCell=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_18__.a)((function(e){return{head:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},body:{fontSize:14}}}))(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_13__.a),StyledTableRow=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_18__.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_11__.a),CarCalculation=function(e){var t=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_15__.a)(),a=Object(_material_ui_core_useMediaQuery__WEBPACK_IMPORTED_MODULE_16__.a)(t.breakpoints.up("md"));return react__WEBPACK_IMPORTED_MODULE_9__.createElement(CarCalculationClass,Object.assign({isBigScreen:a},e))};function mileageToKms(e){return 1.60934*e}function addCurrencySymbol(e){return e<0?"-$".concat(Math.abs(e)):"$".concat(e)}function pv(rate,periods,payment,future,type){var type="undefined"===typeof type?0:type;return rate=eval(rate),periods=eval(periods),0===rate?-payment*periods-future:((1-Math.pow(1+rate,periods))/rate*payment*(1+rate*type)-future)/Math.pow(1+rate,periods)}function getLenderId(e,t){for(var a=0;a<t.length;a++)if(e==t[a].name)return t[a].id;return null}function calculateProfitFirstInterest(e,t,a){var n=createCalculationDetail(-1,e,t,a)[3].split(",");if(n.length>0){var r=createCalculationDetail(n[0],e,t,a)[8];if("NOT_FOUND"!=r)return r}return null}function createCalculationDetail(e,t,a,n){console.log("createCalculationDetail()"),console.log(e),console.log(t),console.log(a),console.log(n);var r=a[0],l=a[1],s=a[2],i=t.lender,_=t.tier;console.log("lenderName = "+i),console.log("tierName = "+_);var c="NOT_FOUND",o="NOT_FOUND",u="NOT_FOUND",d=null,p=null,m=getLenderId(i,r);if(console.log("lenderId = "+m),null!=m){var E,h=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_8__.a)(l);try{for(h.s();!(E=h.n()).done;){var O=E.value;if(O.lender_id==m&&O.name==_){p=O,isNaN(O.advance)||(c=parseFloat(O.advance));var f=parseFloat(O.rate_min),b=parseFloat(O.rate_max);o="";for(var v=f;v<b;v+=1)o+=v+",";o+=b;break}}}catch(S){h.e(S)}finally{h.f()}var g=mileageToKms(parseFloat(n.mileage));console.log("carKms = "+g);var D,C=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_8__.a)(s);try{for(C.s();!(D=C.n()).done;){var y=D.value;if(y.lender_id==m&&y.min_kms<=g&&y.max_kms>=g&&y.year==parseInt(n.year)){u=y.term,d=y;break}}}catch(S){C.e(S)}finally{C.f()}}console.log("advance = "+c),console.log("interest = "+o),console.log("term = "+u);var M=parseFloat(t.payment),P="NOT_FOUND";if(null!=d&&"NOT_FOUND"!=c){var T=d.type.replace(/\s/g,"");switch(console.log("termType = "+T),T.toLowerCase()){case"x-clean":P=n.x_clean*c-n.total_cost;break;case"clean":P=n.clean*c-n.total_cost;break;case"average":P=n.average*c-n.total_cost;break;case"rough":P=n.rough*c-n.total_cost}P=Math.round(P)}console.log("maxFront = "+P);var I="NOT_FOUND";if(-1!=e&&"NOT_FOUND"!=u){var k=pv((e/100+0+0)/12,u,-M,0),L=p.hold_back,x=k*(1-L);console.log("financed = "+k),console.log("holdBack = "+L),console.log("funded = "+x);var j=0;""==t["trade allowance"]||isNaN(t["trade allowance"])||(j=parseFloat(t["trade allowance"]));var A=0;""==t["trade payoff"]||isNaN(t["trade payoff"])||(A=parseFloat(t["trade payoff"]));var B=0;""==t["down payment"]||isNaN(t["down payment"])||(B=parseFloat(t["down payment"]));var R=0;""==t["trade a.c.v"]||isNaN(t["trade a.c.v"])||(R=parseFloat(t["trade a.c.v"])),console.log("tradeAllowance = "+j),console.log("tradePayOff = "+A),console.log("downPayment = "+B),console.log("tradeAcv = "+R);var U=x-0-0+j-A+B;console.log("paidOut = "+U);var W=0;""==t.tax||isNaN(t.tax)||(console.log(t.tax),W=parseFloat(t.tax)/100),console.log("userInputTax = "+W);var K=U*(1-W)+R;console.log("netPaid = "+K),I=K-n.total_cost<P?K-n.total_cost:P,I=Math.round(I)}return console.log("maxProfit = "+I),"NOT_FOUND"!=P&&(P=addCurrencySymbol(P)),"NOT_FOUND"!=I&&(I=addCurrencySymbol(I)),console.log("End createCalculationDetail()"),[i,_,100*c+"%",o,u,"$"+M,"0",P,I]}var CarCalculationClass=function(e){Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__.a)(a,e);var t=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_6__.a)(a);function a(e){var n;return Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,a),(n=t.call(this,e)).calculationDetailsColumnHeaders=["Lender","Tier","Advance","Interest","Term","Payment","Back","Front","Profit"],n.state={calculationDetailsValues:[],interests:[-1,-1,-1],lendersDialogOpen:!1,lenderToPrograms:n.createLenderToPrograms(),lenderInputs:n.props.filtersInputs},n.selectInterestEvent=n.selectInterestEvent.bind(Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(n)),n.addRemoveLenders=n.addRemoveLenders.bind(Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(n)),n.addLender=n.addLender.bind(Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(n)),n}return Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(a,[{key:"createLenderToPrograms",value:function(){var e=Object(_GlobalVariables__WEBPACK_IMPORTED_MODULE_27__.b)();if(e){var t={},a={},n=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_2__.a)(e),r=n[0],l=n[1];n.slice(2);return r.forEach((function(e){a[e.id]=e.name})),l.forEach((function(e){var n=a[e.lender_id];n in t||(t[n]=[]),t[n].push(e.name)})),t}return[]}},{key:"createCalculationDetails",value:function(e,t,a,n){var r,l=[],s=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_8__.a)(t.entries());try{for(s.s();!(r=s.n()).done;){var i=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(r.value,2),_=i[0],c=i[1];if(this.isValidFilterInputs(c))if(-1==e[_]){var o=createCalculationDetail(-1,c,a,n),u=o[3].split(",");if(u.length>0){var d=u[0];this.state.interests[_]=d,l.push(createCalculationDetail(d,c,a,n))}else l.push(o)}else l.push(createCalculationDetail(e[_],c,a,n))}}catch(p){s.e(p)}finally{s.f()}return l}},{key:"isValidFilterInputs",value:function(e){return 0!=e.selectedLenderIndex&&0!=e.selectedTierIndex}},{key:"selectInterestEvent",value:function(e,t){var a=e.target.value,n=this.state.interests;n[t]=a,this.setState({interests:n})}},{key:"removeLenderInput",value:function(e){var t=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(this.state.lenderInputs);t.splice(e,1),Object(_GlobalVariables__WEBPACK_IMPORTED_MODULE_27__.f)(t),this.setState({lenderInputs:t})}},{key:"renderWithOneTable",value:function(e){var t=this;return react__WEBPACK_IMPORTED_MODULE_9__.createElement(react__WEBPACK_IMPORTED_MODULE_9__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_14__.a,{style:{backgroundColor:"rgb(247, 248, 248)"}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableRow,null,this.calculationDetailsColumnHeaders.map((function(e){return react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,e)})),react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,"Actions"))),e.map((function(e,a){return react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableRow,null,e.map((function(e,n){if(3==n){var r=[];return e.split(",").forEach((function(e,t){r.push(react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_20__.a,{value:e},e," %"))})),react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_19__.a,{onChange:function(e){return t.selectInterestEvent(e,a)},value:t.state.interests[a]},r))}return react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,e)})),react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_29__.a,{className:"remove_lender",onClick:function(e){return t.removeLenderInput(a)}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_30___default.a,null))))})))))}},{key:"createCell",value:function(e,t,a){var n=this;if(3==t){var r=[];return e.split(",").forEach((function(e,t){r.push(react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_20__.a,{value:e},e," %"))})),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_19__.a,{onChange:function(e){return n.selectInterestEvent(e,a)},value:this.state.interests[a]},r)}return react__WEBPACK_IMPORTED_MODULE_9__.createElement(react__WEBPACK_IMPORTED_MODULE_9__.Fragment,null,e)}},{key:"renderWithThreeTables",value:function(e){var t,a=this,n=[],r=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_8__.a)(e.entries());try{var l=function(){var e=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(t.value,2),r=e[0],l=e[1];n.push(react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_17__.a,{item:!0,xs:12},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_14__.a,{style:{backgroundColor:"rgb(247, 248, 248)"}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableRow,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,"Name"),react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,"Value"))),l.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableRow,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,a.calculationDetailsColumnHeaders[t]),react__WEBPACK_IMPORTED_MODULE_9__.createElement(StyledTableCell,null,a.createCell(e,t,r)))}))))))};for(r.s();!(t=r.n()).done;)l()}catch(s){r.e(s)}finally{r.f()}return react__WEBPACK_IMPORTED_MODULE_9__.createElement(react__WEBPACK_IMPORTED_MODULE_9__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_17__.a,{container:!0,spacing:4},n))}},{key:"addRemoveLenders",value:function(){this.setState({lendersDialogOpen:!0})}},{key:"handleModalClose",value:function(){this.setState({lendersDialogOpen:!1})}},{key:"addLender",value:function(e){var t=Object(_GlobalVariables__WEBPACK_IMPORTED_MODULE_27__.c)();null==t&&(t=[]),t.push(e),Object(_GlobalVariables__WEBPACK_IMPORTED_MODULE_27__.f)(t),this.setState({lendersDialogOpen:!1,lenderInputs:t})}},{key:"render",value:function(){var e=void 0!=this.state.lenderInputs,t=this.createCalculationDetails(this.state.interests,this.state.lenderInputs,this.props.lenderData,this.props.details);if(e){var a=null;return a=this.props.isBigScreen?this.renderWithOneTable(t):this.renderWithThreeTables(t),react__WEBPACK_IMPORTED_MODULE_9__.createElement(react__WEBPACK_IMPORTED_MODULE_9__.Fragment,null,a,react__WEBPACK_IMPORTED_MODULE_9__.createElement("div",{style:{textAlign:"right",marginTop:10}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_21__.a,{variant:"contained",color:"primary",onClick:this.addRemoveLenders},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_22___default.a,null),"Add Lender")),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_23__.a,{open:this.state.lendersDialogOpen,onClose:this.handleModalClose},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_24__.a,null,"Add Lender"),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_25__.a,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_26__.a,null,"Please enter full information for new lender"),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_LenderInput__WEBPACK_IMPORTED_MODULE_28__.a,{lenderToPrograms:this.state.lenderToPrograms,onChange:this.addLender}))))}return null}}]),a}(react__WEBPACK_IMPORTED_MODULE_9__.Component);__webpack_exports__.a=CarCalculation}},[[152,1,2]]]);
//# sourceMappingURL=main.abd4aab1.chunk.js.map