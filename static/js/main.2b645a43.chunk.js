(this["webpackJsonplender-filter"]=this["webpackJsonplender-filter"]||[]).push([[0],{103:function(e,t,r){},104:function(e,t,r){e.exports=r.p+"static/media/logo.5d5d9eef.svg"},105:function(e,t,r){},118:function(e,t,r){},143:function(e,t,r){},148:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),l=r(10),_=r.n(l),s=(r(103),r(14)),i=r(15),c=r(18),o=r(16),u=r(17),d=(r(104),r(105),r(48)),m=r(85),E=r(87),p=r(206),h=r(82),v=r(207),f="https://lender-filter-backend-test.herokuapp.com";var O=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).selectLenderEvent=e.selectLenderEvent.bind(Object(c.a)(e)),e.selectTierEvent=e.selectTierEvent.bind(Object(c.a)(e)),e.state=e.filterBeginningState(),e}return Object(i.a)(r,[{key:"textfieldsBeginningState",value:function(){return{selectedTierIndex:0,currencyFields:{Payment:{value:"",error:!1},"Down Payment":{value:"",error:!1},"Trade Allowance":{value:"",error:!1},"Trade Payoff":{value:"",error:!1},"Trace a.c.v":{value:"",error:!1}},percentageFields:{Tax:{value:"",error:!1}}}}},{key:"hasError",value:function(){var e=this.state.currencyFields,t=this.state.percentageFields;return e.Payment.error||e["Down Payment"].error||e["Trade Allowance"].error||e["Trade Payoff"].error||e["Trace a.c.v"].error||t.Tax.error}},{key:"filterBeginningState",value:function(){var e=Object(d.a)({selectedLenderIndex:0,selectedLenderImage:null,allLenderNames:[],tierMenuItems:[]},this.textfieldsBeginningState(),{isTierSelectEnabled:!1,isTextFieldsEnabled:!1,lenderMenuItems:[],selectedTierIndex:0,allTierNames:[]});return e.tierMenuItems.push(a.createElement(E.a,{key:"tier_please_select_item",value:0},"Please select tier")),e}},{key:"componentWillReceiveProps",value:function(e){for(var t=[],r=[],n=0;n<e.lenders.length;n++){var l=e.lenders[n];t.push(a.createElement(E.a,{key:"lender_name_"+n,value:n+1},l.name)),r.push(l.name)}this.setState({lenderMenuItems:t,allLenderNames:r})}},{key:"textboxOnChange",value:function(e,t){var r=e.target.value,a=isNaN(r);if(console.log(a),t in this.state.currencyFields){var n=Object(d.a)({},this.state.currencyFields);n[t]={value:r,error:a},this.setState({currencyFields:n})}else if(t in this.state.percentageFields){var l=Object(d.a)({},this.state.percentageFields);l[t]={value:r,error:a},this.setState({percentageFields:l})}}},{key:"selectLenderEvent",value:function(e){var t=e.target.value,r=t-1,n={};if(n.selectedLenderIndex=t,!(0==t)){var l=this.props.lenders[r].id,_=this.props.lenderPrograms.filter((function(e){return e.lender_id==l})).map((function(e){return e.name})),s=[];s.push(a.createElement(E.a,{value:0},"Please select tier"));for(var i=0;i<_.length;i++){var c=i+1;s.push(a.createElement(E.a,{value:c},_[i]))}n.tierMenuItems=s,n.isTierSelectEnabled=!0,n.allTierNames=_}n.selectedTierIndex=0,this.setState(n)}},{key:"selectTierEvent",value:function(e){var t=Object(d.a)({},this.textfieldsBeginningState());t.selectedTierIndex=e.target.value;var r=0==e.target.value;t.isTextFieldsEnabled=!r,this.setState(t)}},{key:"reset",value:function(){this.setState(this.filterBeginningState())}},{key:"render",value:function(){var e=this;return a.createElement(h.a,{container:!0,spacing:5},a.createElement(h.a,{item:!0,xs:12},a.createElement(m.a,{onChange:this.selectLenderEvent,value:this.state.selectedLenderValue,style:{width:"100%"}},this.state.lenderMenuItems)),a.createElement(h.a,{item:!0,xs:12},a.createElement(m.a,{style:{width:"100%"},disabled:!this.state.isTierSelectEnabled,value:this.state.selectedTierIndex,onChange:this.selectTierEvent},this.state.tierMenuItems)),Object.keys(this.state.currencyFields).map((function(t){return a.createElement(h.a,{item:!0,xs:6,sm:3,md:6,style:{padding:10}},a.createElement(p.a,{disabled:!e.state.isTextFieldsEnabled,label:t,variant:"outlined",onChange:function(r){return e.textboxOnChange(r,t)},error:e.state.currencyFields[t].error,helperText:e.state.currencyFields[t].error?"Invalid Value":"",value:e.state.currencyFields[t].value,InputProps:{startAdornment:a.createElement(v.a,{position:"start"},"$")},size:"small"}))})),Object.keys(this.state.percentageFields).map((function(t){return a.createElement(h.a,{item:!0,xs:6,sm:3,md:6,style:{padding:10}},a.createElement(p.a,{disabled:!e.state.isTextFieldsEnabled,label:t,variant:"outlined",onChange:function(r){return e.textboxOnChange(r,t)},error:e.state.percentageFields[t].error,helperText:e.state.percentageFields[t].error?"Invalid Value":"",value:e.state.percentageFields[t].value,InputProps:{startAdornment:a.createElement(v.a,{position:"start"},"%")},size:"small"}))})))}}]),r}(a.Component),b=r(63),g=r.n(b),D=r(41),C=r(73),P=r(196),y=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).clearFiltersOnClick=e.clearFiltersOnClick.bind(Object(c.a)(e)),e.lenderFilter1=a.createRef(),e.lenderFilter2=a.createRef(),e.lenderFilter3=a.createRef(),e.state={lenders:[],lenderPrograms:[],lenderTerms:[]},Promise.all([fetch("".concat(f,"/lenders/")),fetch("".concat(f,"/lenders/programs/")),fetch("".concat(f,"/lenders/terms/"))]).then(function(){var e=Object(C.a)(g.a.mark((function e(t){var r,a,n,l,_,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(D.a)(t,3),a=r[0],n=r[1],l=r[2],e.next=3,a.json();case 3:return _=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.next=9,l.json();case 9:return i=e.sent,e.abrupt("return",[_,s,i]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){var r=Object(D.a)(t,3),a=r[0],n=r[1],l=r[2];e.setState({lenders:a,lenderPrograms:n,lenderTerms:l})})),e}return Object(i.a)(r,[{key:"clearFiltersOnClick",value:function(e){this.lenderFilter1.current.reset(),this.lenderFilter2.current.reset(),this.lenderFilter3.current.reset()}},{key:"getFiltersInputs",value:function(){return[this.lenderFilter1.current.state,this.lenderFilter2.current.state,this.lenderFilter3.current.state]}},{key:"hasError",value:function(){return this.lenderFilter1.current.hasError()||this.lenderFilter2.current.hasError()||this.lenderFilter3.current.hasError()}},{key:"getLenderData",value:function(){return[this.state.lenders,this.state.lenderPrograms,this.state.lenderTerms]}},{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement(h.a,{container:!0,direction:"row",spacing:4},a.createElement(h.a,{item:!0,xs:12},"Customer Name: ",a.createElement(p.a,{variant:"outlined",size:"small"})),a.createElement(h.a,{item:!0,md:4},a.createElement(O,{ref:this.lenderFilter1,lenders:this.state.lenders,lenderPrograms:this.state.lenderPrograms,lenderTerms:this.state.lenderTerms})),a.createElement(h.a,{item:!0,md:4},a.createElement(O,{ref:this.lenderFilter2,lenders:this.state.lenders,lenderPrograms:this.state.lenderPrograms,lenderTerms:this.state.lenderTerms})),a.createElement(h.a,{item:!0,md:4},a.createElement(O,{ref:this.lenderFilter3,lenders:this.state.lenders,lenderPrograms:this.state.lenderPrograms,lenderTerms:this.state.lenderTerms})),a.createElement(h.a,{item:!0,xs:12,style:{textAlign:"center"}},a.createElement(P.a,{variant:"contained",color:"primary",onClick:this.props.submitOnClick},"Submit"),a.createElement(P.a,{variant:"contained",color:"secondary",onClick:this.clearFiltersOnClick,style:{marginLeft:10}},"Reset"))))}}]),r}(a.Component),T=r(74),M=r(197),I=r(198),k=r(83),L=r(151),F=r(150),R=r(60),U=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"getCarTitle",value:function(){var e=this.getRowValue("YEAR"),t=this.getRowValue("MAKE"),r=this.getRowValue("MODEL"),a=this.getRowValue("TRIM");return"".concat(e," ").concat(t," ").concat(r," ").concat(a)}},{key:"getRowValue",value:function(e){var t=this.getRowWithName(e);return null!=t?t.value:""}},{key:"getRowWithName",value:function(e){var t=this.props.details.filter((function(t){return t.name==e}));return t.length>0?t[0]:null}},{key:"render",value:function(){return a.createElement(R.a,{style:{padding:"20px",backgroundColor:"rgb(247, 248, 248)"}},a.createElement(k.a,null,a.createElement(F.a,null,a.createElement(L.a,{colSpan:2,style:{textAlign:"center"}},a.createElement("b",{style:{fontSize:"1.2rem"}},this.getCarTitle()))),this.props.details.map((function(e){return a.createElement(F.a,null,a.createElement(L.a,{style:{padding:"0px"}},a.createElement("b",null,e.name)),a.createElement(L.a,{style:{padding:"0px"}},e.value))}))))}}]),r}(a.Component),A=r(62),x=r(75),B=r.n(x),w=(r(117),r(118),function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return a.createElement(B.a,{items:this.props.images,showPlayButton:!1,showFullscreenButton:!1})}}]),r}(a.Component)),S=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement(h.a,{container:!0,spacing:1},a.createElement(h.a,{item:!0,xs:6,md:2,lg:2},a.createElement(P.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Save")),a.createElement(h.a,{item:!0,xs:6,md:2,lg:2},a.createElement(P.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Pictures")),a.createElement(h.a,{item:!0,xs:6,md:2,lg:2},a.createElement(P.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Breakdown")),a.createElement(h.a,{item:!0,xs:6,md:2,lg:2},a.createElement(P.a,{variant:"contained",color:"primary",style:{width:"100%"}},"Send"))))}}]),r}(a.Component),W=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"excludeCarDetailFields",value:function(e){return["id","images","img_url","x_clean","clean","average","rough","series"].includes(e)}},{key:"convertFieldNameToLabel",value:function(e){var t={total_cost:"TOTAL COST"};return e in t?t[e]:e}},{key:"isCurrencyField",value:function(e){return["total_cost"].includes(e)}},{key:"convertToCarDetails",value:function(e){var t=[];for(var r in e)if(!this.excludeCarDetailFields(r)){var a=this.convertFieldNameToLabel(r).toUpperCase(),n=e[r];this.isCurrencyField(r)&&(n="$"+n),t.push({name:a,value:n})}return t}},{key:"render",value:function(){return a.createElement(M.a,{style:{width:"100%"}},a.createElement(I.a,null,a.createElement(h.a,{container:!0,spacing:2},a.createElement(h.a,{item:!0,xs:12,lg:7},a.createElement(w,{images:this.props.images})),a.createElement(h.a,{item:!0,xs:12,lg:5},a.createElement(U,{details:this.convertToCarDetails(this.props.details)})),a.createElement(h.a,{item:!0,xs:12},a.createElement(A.a,{filtersInputs:this.props.filtersInputs,lenderData:this.props.lenderData,details:this.props.details})),a.createElement(h.a,{item:!0,xs:12},a.createElement(S,null)))))}}]),r}(a.Component),K=r(8),j=r(77),N=(r(143),r(78)),q=r.n(N);function H(){var e=Object(T.a)(["\n    border-color:rgb(55,71,172);\n    position:absolute;\n    border-bottom-color:transparent;\n    top:50%;\n"]);return H=function(){return e},e}var V=Object(K.css)(H()),z=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).state={carShowElements:[],carDetailsList:[],carImagesList:[],isLoading:!1,hasMoreItems:!1,filtersInputs:null,lenderData:null},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.updateCars(this.props.carJson,this.props.filtersInputs,null,0)}},{key:"updateCars",value:function(e,t,r,n){var l=this;if(this.setState({isLoading:!0,carDetailsList:[],carImagesList:[],carShowElements:[],filtersInputs:t,lenderData:r}),""!=e){for(var _=e,s=[],i={},c=0;c<_.length;c++){var o=_[c],u=this.getCarImages(_[c]);s.push(o),i[o.id]=u}if(0!=n)switch(console.log("sort"),n){case 1:s.sort((function(e,t){return parseInt(e.year)-parseInt(t.year)}));break;case 2:s.sort((function(e,t){return l.reverseNumberSign(parseInt(e.year)-parseInt(t.year))}));break;case 3:s.sort((function(e,t){return e.make.localeCompare(t.make)}));break;case 4:s.sort((function(e,t){return e.model.localeCompare(t.model)}));break;case 5:s.sort((function(e,t){return parseInt(e.mileage)-parseInt(t.mileage)}));break;case 6:s.sort((function(e,t){return l.reverseNumberSign(parseInt(e.mileage)-parseInt(t.mileage))}));break;case 7:s.sort((function(e,t){return parseInt(e.total_cost)-parseInt(t.total_cost)}));break;case 8:s.sort((function(e,t){return l.reverseNumberSign(parseInt(e.total_cost)-parseInt(t.total_cost))}))}for(var d=[],m=0;m<s.length;m++)d.push(i[s[m].id]);for(var E=[],p=0;p<10&&p<s.length;p++){var v=s[p],f=d[p];E.push(a.createElement(h.a,{item:!0,xs:12,xl:6},a.createElement(W,{details:v,images:f,filtersInputs:t,lenderData:r})))}this.setState({carDetailsList:s,carImagesList:d,isLoading:!1,carShowElements:E,hasMoreItems:s.length>10})}}},{key:"reverseNumberSign",value:function(e){return-e}},{key:"componentWillReceiveProps",value:function(e){this.updateCars(e.carJson,e.filtersInputs,e.lenderData,e.sortCriteria)}},{key:"getCarImages",value:function(e){for(var t=[],r=[],a=0;a<e.images.length;a++){var n=e.images[a],l=n.src,_=n.name;r.push(_),_ in r&&console.warn(_+" is already in dicationary"),t[_]={original:l,thumbnail:l}}r.sort();for(var s=[],i=0;i<r.length;i++)s.push(t[r[i]]);return s}},{key:"loadItems",value:function(e){var t=this.state.carShowElements,r=this.state.carShowElements.length;if(this.state.carShowElements.length<this.state.carDetailsList.length)for(;t.length<r+10&&t.length<this.state.carDetailsList.length;)t.push(a.createElement(h.a,{item:!0,xs:12,xl:6},a.createElement(W,{details:this.state.carDetailsList[t.length],images:this.state.carImagesList[t.length],filtersInputs:this.state.filtersInputs,lenderData:this.state.lenderData})));var n=t.length+10<this.state.carDetailsList.length;this.setState({hasMoreItems:n,carShowElements:t})}},{key:"render",value:function(){var e=a.createElement("div",{className:"loader"},"Loading ...");return a.createElement(q.a,{pageStart:0,loadMore:this.loadItems.bind(this),hasMore:this.state.hasMoreItems,loader:e},a.createElement(h.a,{container:!0,spacing:4,className:"car-show-grid ".concat(this.state.isLoading?"loading":"")},this.state.isLoading?a.createElement("div",{className:"spinner"},a.createElement(j.ClipLoader,{css:V})):this.state.carShowElements))}}]),r}(a.Component),J=r(199),Q=r(204),$=r(200),G=r(26),Y=r(152),X=r(203),Z=r(205),ee=r(80),te=r.n(ee),re=r(201),ae=r(202),ne=r(81),le=r(79),_e=r.n(le),se=(r(145),function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).state={selectedCriteriaIndex:0},a.sortCriteriaList=["Sort by (choose)","Year (Latest -> Newest)","Year (Newest -> Latest)","Make","Model","Mileage (Lowest -> Highest)","Mileage (Highest -> Lowest)","Cost (Lowest -> Highest)","Cost (Highest -> Lowest)","Profit (Lowest -> Highest)","Profit (Highest -> Lowest)"],a}return Object(i.a)(r,[{key:"selectCriteriaAtIndex",value:function(e){this.setState({selectedCriteriaIndex:e})}},{key:"getSelectedCriteriaIndex",value:function(){return this.state.selectedCriteriaIndex}},{key:"getSelectedCriteriaName",value:function(){return this.sortCriteriaList[this.state.selectedCriteriaIndex]}},{key:"render",value:function(){return a.createElement(m.a,{onChange:this.props.onSelect,value:this.state.selectedCriteriaIndex},this.sortCriteriaList.map((function(e,t){return a.createElement(E.a,{value:t},e)})))}}]),r}(a.Component)),ie=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).carshowRef=n.a.createRef(),e.lendersFilter=n.a.createRef(),e.sortRef=n.a.createRef(),e.filterOnClick=e.filterOnClick.bind(Object(c.a)(e)),e.submitOnclick=e.submitOnclick.bind(Object(c.a)(e)),e.menuBtnOnClick=e.menuBtnOnClick.bind(Object(c.a)(e)),e.closeMenu=e.closeMenu.bind(Object(c.a)(e)),e.sortSelect=e.sortSelect.bind(Object(c.a)(e)),e.state={displayFilters:!1,displayCarShow:!0,anchorEl:null,filtersInputs:[],sort:0,carJson:""},fetch("".concat(f,"/cars/")).then((function(e){return e.json()})).then((function(t){e.setState({carJson:t})})),e}return Object(i.a)(r,[{key:"filterOnClick",value:function(e){console.log("Filter"),this.setState({displayFilters:!this.state.displayFilters})}},{key:"submitOnclick",value:function(){this.lendersFilter.current.hasError()||(this.setState({displayFilters:!1,displayCarShow:!0,filtersInputs:this.lendersFilter.current.getFiltersInputs(),lenderData:this.lendersFilter.current.getLenderData()}),window.scrollTo(0,0))}},{key:"menuBtnOnClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"closeMenu",value:function(){this.setState({anchorEl:null})}},{key:"sortSelect",value:function(e){var t=e.target.value;this.sortRef.current.selectCriteriaAtIndex(t),this.setState({sort:t})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(_e.a,{smooth:!0}),n.a.createElement(h.a,{container:!0,style:{backgroundColor:"rgb(247,248,248)"}},n.a.createElement(h.a,{item:!0,xl:1,xs:0}),n.a.createElement(h.a,{item:!0,xl:10,xs:12},n.a.createElement(J.a,{position:"static"},this.props.isBigScreen?n.a.createElement(n.a.Fragment,null,n.a.createElement(Q.a,null,n.a.createElement($.a,{label:"Home"}),n.a.createElement($.a,{label:"Rate Sheet",disabled:!0}),n.a.createElement($.a,{label:"Quick Quote",disabled:!0}),n.a.createElement($.a,{label:"Lender Assist",disabled:!0}))):n.a.createElement(re.a,null,n.a.createElement(ae.a,{"aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",style:{color:"white"},onClick:this.menuBtnOnClick},n.a.createElement(te.a,null)),n.a.createElement(ne.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.anchorEl),onClose:this.closeMenu},n.a.createElement(E.a,null,"HOME"),n.a.createElement(E.a,null,"RATE SHEET"),n.a.createElement(E.a,null,"QUICK QUOTE"),n.a.createElement(E.a,null,"LENDER ASSIST"))))),n.a.createElement(h.a,{item:!0,xl:1,xs:0}),n.a.createElement(h.a,{item:!0,xl:1,xs:0}),n.a.createElement(h.a,{item:!0,xl:10,xs:12},n.a.createElement(h.a,{container:!0},n.a.createElement(h.a,{item:!0,lg:12,xs:12},n.a.createElement(h.a,{container:!0,spacing:2},this.state.displayCarShow?n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{item:!0,xs:12,sm:4,lg:2,style:{textAlign:"center"}},n.a.createElement(se,{ref:this.sortRef,onSelect:this.sortSelect})),n.a.createElement(h.a,{item:!0,xs:12,sm:4,lg:2,style:{textAlign:"center"}},n.a.createElement(X.a,{onClick:this.filterOnClick,selected:this.state.displayFilters},n.a.createElement(Z.a,null),"  Filter"))):null,n.a.createElement(h.a,{item:!0,xs:12,style:{marginTop:"16px",marginBottom:"16px",display:this.state.displayFilters?"":"none"}},n.a.createElement(R.a,{style:{padding:"10px"}},n.a.createElement(y,{ref:this.lendersFilter,submitOnClick:this.submitOnclick}))),this.state.displayCarShow?n.a.createElement(h.a,{item:!0,xs:12},n.a.createElement(z,{ref:this.carshowRef,carJson:this.state.carJson,filtersInputs:this.state.filtersInputs,lenderData:this.state.lenderData,sortCriteria:this.state.sort})):null)))),n.a.createElement(h.a,{item:!0,xl:1,xs:0})))}}]),r}(n.a.Component),ce=function(e){var t=Object(G.a)(),r=Object(Y.a)(t.breakpoints.up("md"));return n.a.createElement(ie,{isBigScreen:r})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));_.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(47),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(83),_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(150),_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(84),_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(151),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(60),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(26),_material_ui_core_useMediaQuery__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(152),_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(82),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4),_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(85),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(87),StyledTableCell=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.a)((function(e){return{head:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},body:{fontSize:14}}}))(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_11__.a),StyledTableRow=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_9__.a),CarCalculation=function(e){var t=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_13__.a)(),r=Object(_material_ui_core_useMediaQuery__WEBPACK_IMPORTED_MODULE_14__.a)(t.breakpoints.up("md"));return react__WEBPACK_IMPORTED_MODULE_7__.createElement(CarCalculationClass,Object.assign({isBigScreen:r},e))};function mileageToKms(e){return 1.60934*e}function addCurrencySymbol(e){return e<0?"-$".concat(Math.abs(e)):"$".concat(e)}function pv(rate,periods,payment,future,type){var type="undefined"===typeof type?0:type;return rate=eval(rate),periods=eval(periods),0===rate?-payment*periods-future:((1-Math.pow(1+rate,periods))/rate*payment*(1+rate*type)-future)/Math.pow(1+rate,periods)}function getLenderId(e,t){for(var r=0;r<t.length;r++)if(e==t[r].name)return t[r].id;return null}function calculateProfitFirstInterest(e,t,r){var a=createCalculationDetail(-1,e,t,r)[3].split(",");if(a.length>0){var n=createCalculationDetail(a[0],e,t,r)[8];if("NOT_FOUND"!=n)return n}return null}function createCalculationDetail(e,t,r,a){console.log("createCalculationDetail()"),console.log(e),console.log(t),console.log(r),console.log(a);var n=r[0],l=r[1],_=r[2],s=t.allLenderNames[t.selectedLenderIndex-1],i=t.allTierNames[t.selectedTierIndex-1];console.log("lenderName = "+s),console.log("tierName = "+i);var c="NOT_FOUND",o="NOT_FOUND",u="NOT_FOUND",d=null,m=null,E=getLenderId(s,n);if(console.log("lenderId = "+E),null!=E){var p,h=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_6__.a)(l);try{for(h.s();!(p=h.n()).done;){var v=p.value;if(v.lender_id==E&&v.name==i){m=v,isNaN(v.advance)||(c=parseFloat(v.advance));var f=parseFloat(v.rate_min),O=parseFloat(v.rate_max);o="";for(var b=f;b<O;b+=1)o+=b+",";o+=O;break}}}catch(W){h.e(W)}finally{h.f()}var g=mileageToKms(parseFloat(a.mileage));console.log("carKms = "+g);var D,C=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_6__.a)(_);try{for(C.s();!(D=C.n()).done;){var P=D.value;if(P.lender_id==E&&P.min_kms<=g&&P.max_kms>=g&&P.year==parseInt(a.year)){u=P.term,d=P;break}}}catch(W){C.e(W)}finally{C.f()}}console.log("advance = "+c),console.log("interest = "+o),console.log("term = "+u);var y=parseFloat(t.currencyFields.Payment.value),T="NOT_FOUND";if(null!=d&&"NOT_FOUND"!=c){var M=d.type.replace(/\s/g,"");switch(console.log("termType = "+M),M.toLowerCase()){case"x-clean":T=a.x_clean*c-a.total_cost;break;case"clean":T=a.clean*c-a.total_cost;break;case"average":T=a.average*c-a.total_cost;break;case"rough":T=a.rough*c-a.total_cost}T=Math.round(T)}console.log("maxFront = "+T);var I="NOT_FOUND";if(-1!=e&&"NOT_FOUND"!=u){var k=pv((e/100+0+0)/12,u,-y,0),L=m.hold_back,F=k*(1-L);console.log("financed = "+k),console.log("holdBack = "+L),console.log("funded = "+F);var R=0;""==t.currencyFields["Trade Allowance"].value||isNaN(t.currencyFields["Trade Allowance"].value)||(R=parseFloat(t.currencyFields["Trade Allowance"].value));var U=0;""==t.currencyFields["Trade Payoff"].value||isNaN(t.currencyFields["Trade Payoff"].value)||(U=parseFloat(t.currencyFields["Trade Payoff"].value));var A=0;""==t.currencyFields["Down Payment"].value||isNaN(t.currencyFields["Down Payment"].value)||(A=parseFloat(t.currencyFields["Down Payment"].value));var x=0;""==t.currencyFields["Trace a.c.v"].value||isNaN(t.currencyFields["Trace a.c.v"].value)||(x=parseFloat(t.currencyFields["Trace a.c.v"].value)),console.log("tradeAllowance = "+R),console.log("tradePayOff = "+U),console.log("downPayment = "+A),console.log("tradeAcv = "+x);var B=F-0-0+R-U+A;console.log("paidOut = "+B);var w=0;""==t.percentageFields.Tax.value||isNaN(t.percentageFields.Tax.value)||(console.log(t.percentageFields.Tax.value),w=parseFloat(t.percentageFields.Tax.value)/100),console.log("userInputTax = "+w);var S=B*(1-w)+x;console.log("netPaid = "+S),I=S-a.total_cost<T?S-a.total_cost:T,I=Math.round(I)}return console.log("maxProfit = "+I),"NOT_FOUND"!=T&&(T=addCurrencySymbol(T)),"NOT_FOUND"!=I&&(I=addCurrencySymbol(I)),console.log("End createCalculationDetail()"),[s,i,100*c+"%",o,u,"$"+y,"0",T,I]}var CarCalculationClass=function(e){Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(r,e);var t=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(r);function r(){var e;return Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,r),(e=t.call(this)).calculationDetailsColumnHeaders=["Lender","Tier","Advance","Interest","Term","Payment","Back","Front","Profit"],e.state={calculationDetailsValues:[],interests:[-1,-1,-1]},e.selectInterestEvent=e.selectInterestEvent.bind(Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__.a)(e)),e}return Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(r,[{key:"createCalculationDetails",value:function(e,t,r,a){var n,l=[],_=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_6__.a)(t.entries());try{for(_.s();!(n=_.n()).done;){var s=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(n.value,2),i=s[0],c=s[1];if(this.isValidFilterInputs(c))if(-1==e[i]){var o=createCalculationDetail(-1,c,r,a),u=o[3].split(",");if(u.length>0){var d=u[0];this.state.interests[i]=d,l.push(createCalculationDetail(d,c,r,a))}else l.push(o)}else l.push(createCalculationDetail(e[i],c,r,a))}}catch(m){_.e(m)}finally{_.f()}return l}},{key:"isValidFilterInputs",value:function(e){return 0!=e.selectedLenderIndex&&0!=e.selectedTierIndex}},{key:"selectInterestEvent",value:function(e,t){var r=e.target.value,a=this.state.interests;a[t]=r,this.setState({interests:a})}},{key:"renderWithOneTable",value:function(e){var t=this;return react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12__.a,{style:{backgroundColor:"rgb(247, 248, 248)"}},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_8__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableRow,null,this.calculationDetailsColumnHeaders.map((function(e){return react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableCell,null,e)})))),e.map((function(e,r){return react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableRow,null,e.map((function(e,a){if(3==a){var n=[];return e.split(",").forEach((function(e,t){n.push(react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_18__.a,{value:e},e," %"))})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableCell,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_17__.a,{onChange:function(e){return t.selectInterestEvent(e,r)},value:t.state.interests[r]},n))}return react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableCell,null,e)})))})))))}},{key:"createCell",value:function(e,t,r){var a=this;if(3==t){var n=[];return e.split(",").forEach((function(e,t){n.push(react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_18__.a,{value:e},e," %"))})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_17__.a,{onChange:function(e){return a.selectInterestEvent(e,r)},value:this.state.interests[r]},n)}return react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,e)}},{key:"renderWithThreeTables",value:function(e){var t,r=this,a=[],n=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_6__.a)(e.entries());try{var l=function(){var e=Object(_Users_vuvandung_Desktop_lender_filter_lender_filter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(t.value,2),n=e[0],l=e[1];a.push(react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_15__.a,{item:!0,xs:12},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12__.a,{style:{backgroundColor:"rgb(247, 248, 248)"}},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_8__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableRow,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableCell,null,"Name"),react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableCell,null,"Value"))),l.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableRow,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableCell,null,r.calculationDetailsColumnHeaders[t]),react__WEBPACK_IMPORTED_MODULE_7__.createElement(StyledTableCell,null,r.createCell(e,t,n)))}))))))};for(n.s();!(t=n.n()).done;)l()}catch(_){n.e(_)}finally{n.f()}return react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_15__.a,{container:!0,spacing:4},a))}},{key:"render",value:function(){var e=void 0!=this.props.filtersInputs&&this.props.filtersInputs.length>0,t=this.createCalculationDetails(this.state.interests,this.props.filtersInputs,this.props.lenderData,this.props.details);return e?this.props.isBigScreen?this.renderWithOneTable(t):this.renderWithThreeTables(t):null}}]),r}(react__WEBPACK_IMPORTED_MODULE_7__.Component);__webpack_exports__.a=CarCalculation},98:function(e,t,r){e.exports=r(148)}},[[98,1,2]]]);
//# sourceMappingURL=main.2b645a43.chunk.js.map